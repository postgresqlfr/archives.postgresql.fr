<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<!-- Mirrored from blog2.postgresql.fr/index.php?post/drupal/113 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 May 2020 21:40:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="MSSmartTagsPreventParsing" content="TRUE" />
  <meta name="ROBOTS" content="INDEX, FOLLOW" />
  
  <title>Fiche mémoire sur PostgreSQL - PostgreSQLfr.org</title>
  <meta name="description" lang="fr" content="Peter Freitag vient de publier une fiche mémoire sur PostgreSQL dont voici la traduction. La version anglaise est disponible sur le site de Peter Freitag. Fiche mémoire sur" />
  <meta name="copyright" content="" />
  <meta name="author" content="gleu" />
  <meta name="date" scheme="ISO8601" content="2005-09-09T16:31:00+00:00" />
  
  <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/" />
  <meta name="dc.title" content="Fiche mémoire sur PostgreSQL" />
  <meta name="dc.description" lang="fr" content="Peter Freitag vient de publier une fiche mémoire sur PostgreSQL dont voici la traduction. La version anglaise est disponible sur le site de Peter Freitag. Fiche mémoire sur" />
  <meta name="dc.creator" content="gleu" />
  <meta name="dc.language" content="fr" />
  <meta name="dc.publisher" content="" />
  <meta name="dc.rights" content="" />
  <meta name="dc.date" scheme="ISO8601" content="2005-09-09T16:31:00+00:00" />
  <meta name="dc.type" content="text" />
  <meta name="dc.format" content="text/html" />
  
  <link rel="top" href="indexd41d.html?" title="Accueil" />
  <link rel="contents" href="index888d.html?archive" title="Archives" />
  
  <link rel="next" href="index6d84.html?post/drupal/115"
  title="Nouvelles hebdomadaires de PostgreSQL - 11 Septembre 2005" />
  
  <link rel="previous" href="indexcc24.html?post/drupal/111"
  title="1000 utilisateurs enregistrés pour PostgreSQLFr.org !" />
  
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="index4ca3.php?feed/atom" />
  
  <style type="text/css" media="screen">
@import url(themes/postgresql/style.css);
</style>
<style type="text/css" media="print">
@import url(themes/default/print.css);
</style>

<script type="text/javascript" src="themes/default/js/jquery.js"></script>
<script type="text/javascript" src="themes/default/js/jquery.cookie.js"></script>

  
  <script type="text/javascript" src="themes/default/js/post.js"></script>
  <script type="text/javascript">
  //<![CDATA[
  var post_remember_str = 'Se souvenir de moi sur ce blog';
  //]]>
  </script>
</head>

<body class="dc-post">
<div id="page">


<div id="top">
  <div id="pgHeader">
    <span id="pgHeaderLogoLeft">
      <a href="index.html" title="PostgreSQL"><img src="https://blog.postgresql.fr/themes/postgresql/img/hdr_left.png" width="230" height="80" alt="PostgreSQL" /></a>
    </span>
    <span id="pgHeaderLogoRight">
      <a href="index.html" title="La base de donnees la plus sophistiquee au monde."><img src="https://blog.postgresql.fr/themes/postgresql/img/hdr_right.png" width="210" height="80" alt="La base de donnees la plus sophistiquee au monde." /></a>
    </span>
  </div>

  </div>

<div class="pgTopNav">
  <div class="pgTopNavLeft"> 
    <img src="https://blog.postgresql.fr/themes/postgresql/img/nav_lft.png" width="7" height="23" alt="" />
  </div>
  <div class="pgTopNavRight">
    <img src="https://blog.postgresql.fr/themes/postgresql/img/nav_rgt.png" width="7" height="23" alt="" />
  </div>
  <ul class="pgTopNavList">
    <li><a href="https://www.postgresql.fr/" title="Accueil">Accueil</a></li>
    <li><a href="https://blog.postgresql.fr/" title="Lire les actualités">Actualités</a></li>
    <li><a href="https://docs.postgresql.fr/" title="Lire la documentation officielle">Documentation</a></li>
    <li><a href="https://forums.postgresql.fr/" title="Pour poser des questions">Forums</a></li>
    <li><a href="https://www.postgresql.fr/asso/" title="La vie de l'association">Association</a></li>
    <li><a href="https://www.postgresql.fr/devel:accueil" title="Informations pour les développeurs/traducteurs">Développeurs</a></li>
    <li><a href="https://planete.postgresql.fr/" title="La planète francophone sur PostgreSQL">Planète</a></li>
    <li><a href="https://www.postgresql.fr/support/" title="Support sur PostgreSQL">Support</a></li>
  </ul>
</div>

<div id="wrapper">

<div id="pgContent">

  <div id="pgSideWrap">
  <div id="pgSideNav">
    <div id="blognav">
      <div id="search"><h2><label for="q">Rechercher</label></h2><form action="http://blog2.postgresql.fr/index.php?" method="get"><fieldset><p><input type="text" size="10" maxlength="255" id="q" name="q" value="" /> <input class="submit" type="submit" value="ok" /></p></fieldset></form></div><div class="categories"><h2>Catégories</h2><ul><li class="category-current"><a href="index199b.html?category/Articles">Articles</a></li><li><a href="indexb4c6.html?category/Dans-les-bacs">Dans les bacs</a></li><li><a href="index025a.html?category/Evenements">Événements</a></li><li><a href="index8c6d.html?category/PostgreSQL-Weekly-News">PostgreSQL Weekly News</a></li><li><a href="index1835.html?category/Securite">Sécurité</a></li><li><a href="index2251.html?category/Vie-de-l-association">Vie de l'association</a></li><li><a href="index91de.html?category/Vie-du-site">Vie du site</a></li></ul></div><div class="text"><h2>Licence</h2>Tous les articles de ce blog sont disponibles sous la <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">license Creative Commons BY-NC-SA 3.0</a>.</div>    </div> <!-- End #blognav -->
  
    <div id="blogextra">
      <div class="syndicate"><h2>S'abonner</h2><ul><li><a type="application/atom+xml" href="index4ca3.php?feed/atom" title="Fil Atom des billets de ce blog" class="feed">Fil des billets</a></li></ul></div>    </div> <!-- End #blogextra -->
  </div>
  </div>

  <div id="pgContentWrap">
  <div id="pgDownloadsWrap">
  <div id="content">

  <p id="navlinks">
  <a href="indexcc24.html?post/drupal/111"
  title="1000 utilisateurs enregistrés pour PostgreSQLFr.org !" class="prev">&#171; 1000 utilisateurs enregistrés pour</a>
   <span>-</span> <a href="index6d84.html?post/drupal/115"
  title="Nouvelles hebdomadaires de PostgreSQL - 11 Septembre 2005" class="next">Nouvelles hebdomadaires de PostgreSQL - 11 &#187;</a>
  </p>
  
  <div class="post">
    <h2 id="p113" class="post-title">Fiche mémoire sur PostgreSQL</h2>
    
    <p class="post-info">Par gleu    le vendredi  9 septembre 2005, 16:31        - <a href="index199b.html?category/Articles">Articles</a>
        - <a href="index9a62.html?post/drupal/113">Lien permanent</a>
    </p>
    
    
    
          <div class="post-excerpt"><p></p></div>
        
    <div class="post-content"><p>Peter Freitag vient de publier une fiche mémoire sur PostgreSQL dont voici la traduction. La version anglaise est disponible sur le <a href="http://www.petefreitag.com/cheatsheets/postgresql/">site de Peter Freitag</a>.</p>
<!--break-->
<h1>Fiche mémoire sur PostgreSQL</h1>
<h2>Créer une base de données</h2>
<pre>CREATE DATABASE nom_base;</pre>
<h2>Créer une table (avec un identifiant incrémenté automatiquement)</h2>
<pre>CREATE TABLE nom_table ( <br />id serial PRIMARY KEY,<br />nom varchar(50) UNIQUE NOT NULL,<br />date_creation timestamp DEFAULT current_timestamp<br />);</pre>
<h2>Ajouter une clé primaire</h2>
<pre>ALTER TABLE nom_table ADD PRIMARY KEY (<em>id</em>);</pre>
<h2>Créer un index</h2>
<pre>CREATE UNIQUE INDEX nom_index ON nom_table (noms_colonnes);</pre>
<h2>Sauvegarder une base de données <em>(ligne de commande)</em></h2>
<pre>pg_dump nom_base &gt; nom_base.sql</pre>
<h2>Sauvegarder toutes les bases de données&nbsp;<em>(ligne de commande)</em></h2>
<pre>pg_dumpall &gt; sauvegarde_pg.sql</pre>
<h2>Lancer un script SQL <em>(ligne de commande)</em></h2>
<pre>psql -f script.sql <em>nom_base</em></pre>
<h2>Rechercher via une expression rationnelle</h2>
<pre>SELECT colonne FROM table WHERE colonne ~ 'truc.*';</pre>
<h2>Les&nbsp;<em>N</em> premiers enregistrements</h2>
<pre>SELECT colonnes FROM table LIMIT 10;</pre>
<h2>Pagination</h2>
<pre>SELECT colonnes FROM table LIMIT 10 OFFSET 30;</pre>
<h2>Instructions préparées</h2>
<pre>PREPARE insertion_preparee (int, varchar) AS<br />INSERT INTO nom_table (colonne_int, colonne_char) VALUES ($1, $2);<br />EXECUTE insertion_preparee (1,'a');<br />EXECUTE insertion_preparee (2,'b');<br />DEALLOCATE insertion_preparee;</pre>
<h2>Créer une fonction</h2>
<pre>CREATE OR REPLACE FUNCTION mois (timestamp) RETURNS integer <br /><br />  AS 'SELECT date_part(''month'', $1)::integer;'<br /><br />  LANGUAGE 'sql';</pre>
<h2>Maintenance d'une table</h2>
<pre>VACUUM ANALYZE table;</pre>
<h2>Ré-indexer une base de données, une table ou un index</h2>
<pre>REINDEX DATABASE nom_base;</pre>
<h2>Afficher le plan de requête</h2>
<pre>EXPLAIN SELECT * FROM table;</pre>
<h2>Importer un fichier</h2>
<pre>COPY table_destination FROM '/tmp/un_fichier';</pre>
<h2>Afficher tous les paramètres d'exécution</h2>
<pre>SHOW ALL;</pre>
<h2>Donner tous les droits à un utilisateur</h2>
<pre>GRANT ALL PRIVILEGES ON table TO nom_utilisateur;</pre>
<h2>Exécuter une transaction</h2>
<pre>BEGIN TRANSACTION <br /> UPDATE comptes SET balance += 50 WHERE id = 1;<br />COMMIT;</pre>
<p><strong>SQL de base</strong></p>
<h2>Obtenir toutes les colonnes et lignes d'une table</h2>
<pre>SELECT * FROM table;</pre>
<h2>Ajouter une nouvelle ligne</h2>
<pre>INSERT INTO table (colonne1,colonne2)<br /><br />  VALUES (1, 'un');</pre>
<h2>Mettre à jour une ligne</h2>
<pre>UPDATE table SET truc = 'machin' WHERE id = 1;</pre>
<h2>Supprimer une ligne</h2>
<pre>DELETE FROM table WHERE id = 1;</pre><br /><br />
<p><em>S'imprime sur deux pages. Document en cours de construction - Questions, commentaires, critiques ou requêtes (en anglais) à adresser <ins>ici</ins></em></p>
<p><small><em>Copyright © 2005 <a href="http://www.petefreitag.com/">Peter Freitag</a> (http://www.petefreitag.com/), All Rights Reserved.<br />
Ce document peut être imprimé librement aussi longtemps que cette notice reste intacte.</em></small></p></div>

      </div>

  

    
  
    
    
    </div>
</div> <!-- End #main -->

</div> <!-- End #wrapper -->

<div id="pgFooter">
  <p>Propulsé par <a href="http://dotclear.org/">Dotclear</a></p>
</div>

</div> <!-- End #page -->
</body>

<!-- Mirrored from blog2.postgresql.fr/index.php?post/drupal/113 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 May 2020 21:40:20 GMT -->
</html>
