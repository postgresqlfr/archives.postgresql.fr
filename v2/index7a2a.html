
<!DOCTYPE
 html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 <html>
 <!-- $Date: 2005/08/30 07:54:43 $ / $Revision: 1.29 $ / Last Theme Editor :$Author: jx $-->
  
<!-- Mirrored from drupal.postgresql.fr/?q=taxonomy/term/12&from=10 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 16:16:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base  />
<style type="text/css" media="all">@import "misc/drupal.css";</style><link rel="alternate" type="application/rss+xml" title="RSS - Technique - optimisation" href="index7a0d.html?q=taxonomy/term/12/0/feed" />

   <title>Technique - optimisation - PostgreSQLFr</title>
 <style type="text/css" media="screen" title="Normal Text">
    @import url("layout/css/blue/fixed.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
 <style type="text/css" media="screen" title="Normal Text2">
    @import url("layout/css/blue/pgfr.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
   </head>
   <body>
    <table border="0" cellspacing="5" cellpadding="0" width="100%">
     <tr>
      <!--td colspan="2" width="100%"-->
      <td colspan="2">
      <!-- Head -->
       <table border="0" cellspacing="0" cellpadding="0" width="100%">
        <tr>
	 <td align="left">
           <div id="pgHeader">
	    <div id="pgHeaderLogoLeft">
	     <a href="index.html" title="PostgreSQL"><img src="layout/images/hdr_left.png" width="230" height="80" alt="PostgreSQL" /></a>
	    </div>
	    <div id="pgHeaderLogoRight">
	     <a href="index.html" title="La base de donnÈes la plus sophistiquÈe au monde."><img src="layout/images/hdr_right.png" width="210" height="80" alt="La base de donnÈes la plus sophistiquÈe au monde." /></a>
	    </div>
	   </div>
         </td>
	 <td align="right">
         </td>
	</tr>
      </table> <!-- Head -->
      <br />
      <table border="0" cellspacing="0" cellpadding="0" width="100%">
              <tr>
	      	 <td align="left">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
		</td>
		</tr>
		</table>
      </td>
     </tr>
     <tr>
    <td style="vertical-align: top; width: 20%;">
<div class="block block-user" id="block-user-0">
<div class="pgSideNav">    <h2>Ouverture de session</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=user/login" method="post">
<div class="user-login-block">
<input type="hidden" name="edit[destination]" value="taxonomy/term/12" />
<div class="form-item">
 <label for="edit-name">Nom d'utilisateur:</label><br />
 <input type="text" maxlength="64" class="form-text" name="edit[name]" id="edit-name" size="15" value="" />
</div>
<div class="form-item">
 <label for="edit-pass">Mot de passe:</label><br />
 <input type="password" class="form-password" maxlength="64" name="edit[pass]" id="edit-pass" size="15" value="" />
</div>
<input type="submit" class="form-submit" name="op" value="Identification"  />
</div>

</form>
<div class="item-list"><ul><li><a href="indexc12c.html?q=user/password" title="Demander un nouveau mot de passe par e-mail.">Demander un nouveau mot de passe</a></li></ul></div>
		    </div></div></div>
<div class="block block-user" id="block-user-1">
<div class="pgSideNav">    <h2>Navigation</h2>    
		    <div>
			<div class="menu">
<ul>
<li class="leaf"><a href="indexa499.html?q=tracker">messages r√©cents</a></li>

</ul>
</div>
		    </div></div></div>
<div class="block block-block" id="block-block-4">
<div class="pgSideNav">    <h2>Contactez-nous</h2>    
		    <div>
			<p><strong>Administration du site&nbsp;:</strong><br />
"equipe chez postgresqlfr point org"<br><br />
<strong>Contact presse&nbsp;:</strong><br />
"fr chez postgresql point org"<br><br />
<strong>Contact association&nbsp;:</strong><br />
"bureau chez postgresqlfr point org"<br><br />
<strong>Questions PostgreSQL&nbsp;:</strong><br />
&nbsp;IRC&nbsp;:<br />
&nbsp;&nbsp;serveur <strong>irc.freenode.net</strong><br />
&nbsp;&nbsp;canal <strong>#postgresqlfr</strong></p>

		    </div></div></div>
<div class="block block-block" id="block-block-1">
<div class="pgSideNav">    <h2>Liens</h2>    
		    <div>
			<p><small></p>
<ul>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/162">Adh√©rer</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/473">Faire un don</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/163">Consulter les statuts</a>
</li>
</ul>
<ul>
<li>
<a href="http://www.postgresql.org/" class="active">Site original<br />
</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/" class="active">Site de traduction</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.3/">Doc v.8.3.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.2/">Doc v.8.2.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.1/">Doc v.8.1.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.0/">Doc v.8.0.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/7.4/">Doc v.7.4.x fr</a>
</li>
<li>
<a href="http://www.postgis.fr/">PostGIS</a>
</li>
<li>
<a href="http://www.postgresql.org/docs/techdocs">Techdocs</a>
</li>
<li>
<a href="http://www.varlena.com/varlena/GeneralBits/Tidbits/">General TidBits</a>
</li>
<p><!--</p>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/58">Version Windows</a>
</li>
<p>--></p>
<li>
<a href="http://www.postgresqlfr.org/drupal/?q=node/view/63">T√©moignages de pros</a>
</li>
<li>
<a href="http://archives.postgresql.org/pgsql-fr-generale/">Liste de diffusion</a>
</li>
<li>
<a href="http://wwwmaster.postgresql.org/download/mirrors-ftp">T√©l√©charger</a>
</li>
</ul>
<p></small></p>

		    </div></div></div>
<div class="block block-block" id="block-block-2">
<div class="pgSideNav">    <h2>Recherche</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=search" method="post">
<div id="search">
<input class="form-text" type="text" size="15" value="" name="keys" alt="Enter the terms you wish to search for." /><br />
<input class="form-submit" type="submit" value="Recherche" />
</div>
</form>

		    </div></div></div>
<div class="block block-forum" id="block-forum-0">
<div class="pgSideNav">    <h2>Sujets du forum</h2>    
		    <div>
			<div class="item-list"><h3>Sujets actifs</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index97c1.html?q=node/1731" title="5 commentaires">Connexions simultann√©es</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li></ul></div><div class="item-list"><h3>Nouveaux sujets:</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li><li><a href="index82c4.html?q=node/1734" title="2 commentaires">[RESOLU] Probleme de connection en odbc</a></li></ul></div><div class="more-link"><a href="index79b7.html?q=forum" title="Lire les derniers sujets.">en lire plus</a></div>
		    </div></div></div>
<div class="block block-archive" id="block-archive-0">
<div class="pgSideNav">    <h2>Acc√©der aux archives</h2>    
		    <div>
			
<!-- calendar -->
<div class="calendar"><table summary="Un calendrier pour acc√©der aux archives.">
 <caption><a href="index9dfb.html?q=archive/2008/09/12" title="Mois pr√©c√©dent">&laquo;</a> Octobre 2008 &nbsp;</caption>
 <tr class="header-week">
 <th abbr="Lundi">Lun</th>
 <th abbr="Mardi">Mar</th>
 <th abbr="Mercredi">Mer</th>
 <th abbr="Jeudi">Jeu</th>
 <th abbr="Vendredi">Ven</th>
 <th abbr="Samedi">Sam</th>
 <th abbr="Dimanche">Dim</th>
</tr>
 <tr class="row-week"><td class="day-blank" colspan="2">&nbsp;</td>
  <td class="day-link"><a href="indexd3e2.html?q=archive/2008/10/1">1</a></td>
  <td class="day-normal">2</td>
  <td class="day-normal">3</td>
  <td class="day-normal">4</td>
  <td class="day-normal">5</td>
 </tr>
 <tr class="row-week">
  <td class="day-normal">6</td>
  <td class="day-normal">7</td>
  <td class="day-normal">8</td>
  <td class="day-normal">9</td>
  <td class="day-normal">10</td>
  <td class="day-normal">11</td>
  <td class="day-today">12</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">13</td>
  <td class="day-future">14</td>
  <td class="day-future">15</td>
  <td class="day-future">16</td>
  <td class="day-future">17</td>
  <td class="day-future">18</td>
  <td class="day-future">19</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">20</td>
  <td class="day-future">21</td>
  <td class="day-future">22</td>
  <td class="day-future">23</td>
  <td class="day-future">24</td>
  <td class="day-future">25</td>
  <td class="day-future">26</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">27</td>
  <td class="day-future">28</td>
  <td class="day-future">29</td>
  <td class="day-future">30</td>
  <td class="day-future">31</td>
  <td class="day-blank" colspan="2">&nbsp;</td>
 </tr>
</table></div>


		    </div></div></div>
<div class="block block-node" id="block-node-0">
<div class="pgSideNav">    <h2>Syndication</h2>    
		    <div>
			<div class="xml-icon"><a href="index9637.html?q=rss.xml"><img src="misc/xml.png" width="36" height="14" alt="Flux XML" title="Flux XML" /></a></div>
		    </div></div></div>
<div class="block block-poll" id="block-poll-0">
<div class="pgSideNav">    <h2>Sondage</h2>    
		    <div>
			<div class="poll"><div class="title">Quelle est la version de PostgreSQL la plus r√©pandue sur vos serveurs ?</div><div class="text">8.3</div><div class="bar"><div style="width: 10%;" class="foreground"></div></div><div class="percent">10%</div><div class="text">8.2</div><div class="bar"><div style="width: 42%;" class="foreground"></div></div><div class="percent">42%</div><div class="text">8.1</div><div class="bar"><div style="width: 40%;" class="foreground"></div></div><div class="percent">40%</div><div class="text">8.0</div><div class="bar"><div style="width: 2%;" class="foreground"></div></div><div class="percent">2%</div><div class="text">7.4</div><div class="bar"><div style="width: 6%;" class="foreground"></div></div><div class="percent">6%</div><div class="text">7.3 ou ant√©rieure</div><div class="bar"><div style="width: 0%;" class="foreground"></div></div><div class="percent">0%</div><div class="total">Nombre de votes: 48</div></div><div class="links"><a href="index8c57.html?q=node/1426#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">anciens sondages</a></div>
		    </div></div></div>
    </td>

      <td style="vertical-align: top; width: 80%"><div class="breadcrumb"><a href="index03d2.html?q=">Accueil</a></div><h2 class="title">Technique - optimisation</h2>
<!-- begin content -->

<!-- node: "Optimiseur : r√©√©criture/simplification des requ√™tes avant ex√©cution ?" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="indexa793.html?q=node/1540">Optimiseur : r√©√©criture/simplification des requ√™tes avant ex√©cution ?</a></h1>
		    <p>
			    Par <a href="indexfe8c.html?q=user/3154" title="Voir le profil utilisateur.">scheu</a> le 31/01/2008 - 14:58
		    </p>	
			    <p>Bonjour</p>
<p>J'utilise Postgresql depuis peu. J'ai constat√© sur ma base r√©cemment install√©e un probl√®me : l'optimiseur ne sait apparemment pas, quand c'est possible, simplifier une requ√™te et la r√©√©crire avant de l'ex√©cuter. Exemple simple et reproductible :</p>
<p>ma_bdd=# create table test (n numeric);<br />
CREATE<br />
ma_bdd=# insert into test values (1); --> lanc√© 10 fois<br />
INSERT<br />
ma_bdd=# insert into test values (0); --> lanc√© 10 fois</p>
<!--hr /--><div class="contentsLink">[ <a href="indexa793.html?q=node/1540#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="indexa793.html?q=node/1540" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Req√™te tr√®s lente" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index5cd4.html?q=node/1476">Req√™te tr√®s lente</a></h1>
		    <p>
			    Par <a href="indexebe0.html?q=user/732" title="Voir le profil utilisateur.">deleuse</a> le 29/11/2007 - 17:45
		    </p>	
			    <p>Bonjour, je d√©bute en postresql et j'ai un probl√®me au niveau d'un requ√™te sur une table.<br />
En effet, lorsque je fais un :<br />
<p class="code">
select count(*) from matable;
</p>
=> le r√©sultat s'affiche au bout de 15secondes. (Cette table contient 7500 lignes)</p>
<p>Si je fais la m√™me requ√™te sur des tables similaires , le r√©sultat est instantan√©.</p>
<p>J'ai essay√© de faire un 'vacuum verbose analyse matable;' sans r√©sultat !</p>
<p>voici le r√©sultat d'un \dt</p>
<p class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Table&nbsp;"public.stat"<br />
&nbsp;&nbsp;&nbsp;Colonne&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;Type&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modifications<br />
-------------+----------+--------------------------------------------<br />
&nbsp;stat_num&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;integer&nbsp;&nbsp;|&nbsp;not&nbsp;null&nbsp;default&nbsp;nextval('stat_seq'::text)<br />
&nbsp;stat_unum&nbsp;&nbsp;&nbsp;|&nbsp;integer&nbsp;&nbsp;|<br />
&nbsp;stat_dnum&nbsp;&nbsp;&nbsp;|&nbsp;integer&nbsp;&nbsp;|<br />
&nbsp;stat_dsnum&nbsp;&nbsp;|&nbsp;integer&nbsp;&nbsp;|<br />
&nbsp;stat_date&nbsp;&nbsp;&nbsp;|&nbsp;date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br />
&nbsp;stat_dofw&nbsp;&nbsp;&nbsp;|&nbsp;smallint&nbsp;|<br />
&nbsp;stat_ftnum&nbsp;&nbsp;|&nbsp;integer&nbsp;&nbsp;|<br />
&nbsp;stat_srvnum&nbsp;|&nbsp;integer&nbsp;&nbsp;|<br />
Index:&nbsp;stat_pkey&nbsp;primary&nbsp;key&nbsp;btree&nbsp;(stat_num),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stat_i_dnum&nbsp;btree&nbsp;(stat_dnum),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stat_i_dsnum&nbsp;btree&nbsp;(stat_dsnum),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stat_i_unum&nbsp;btree&nbsp;(stat_unum)
</p>
<!--hr /--><div class="contentsLink">[ <a href="index5cd4.html?q=node/1476#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index5cd4.html?q=node/1476" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Transaction de 1h30, parfois...." -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="indexa5c2.html?q=node/1465">Transaction de 1h30, parfois....</a></h1>
		    <p>
			    Par <a href="index7803.html?q=user/2997" title="Voir le profil utilisateur.">Yves Pr√©lot</a> le 16/11/2007 - 20:04
		    </p>	
			    <p>Bonjour!</p>
<p>Je rencontre un gros probl√®me de performances.<br />
Mon application re√ßoit des donn√©es r√©guli√®rement, et apr√®s tra√Ætmenet, j'ins√®re les informations pertinentes dans la base de donn√©es. ; dans la majorit√© des cas, tout se passe bien et la transaction globale dure moins d'une seconde. Cependant, de temps √† autre (une fois sur vingt ?), la transaction met un temps extraordinairement long pour s'achever (avec succ√®s!) ; extraordinairement long signifie en l'occurence environ 1h30 (une heure et trente minutes!!!) mesur√© directement dans les logs de postgresql (duration).</p>
<!--hr /--><div class="contentsLink">[ <a href="indexa5c2.html?q=node/1465#comment" title="Sauter au premier commentaire de ce message.">4 commentaires</a> | <a href="indexa5c2.html?q=node/1465" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "TEXT ou Varchar" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index06bc.html?q=node/1456">TEXT ou Varchar</a></h1>
		    <p>
			    Par <a href="index0b75.html?q=user/2981" title="Voir le profil utilisateur.">moi</a> le 13/11/2007 - 17:14
		    </p>	
			    <p>Bonjour,</p>
<p>J'ai pos√© la question par email. Il est pr√©f√©rable de partager cette question avec tout le monde.</p>
<p>Nous developpons un projet en Php avec Postgres.<br />
Nous devons enregistrer plusieurs milliers de lignes par jour sur 100 colonnes environs. Les donn√©es proviennent de fichiers bruts CSV. Nous faisons ensuite plusieurs traitements qui r√©duisent le nombre de lignes et √©ventuellement le nombre de colonnes. Les colonnes ne d√©passent pas les 200 caract√®res mais sont tr√®s variables.</p>
<!--hr /--><div class="contentsLink">[ <a href="index06bc.html?q=node/1456#comment" title="Sauter au premier commentaire de ce message.">1 commentaire</a> | <a href="index06bc.html?q=node/1456" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Optimisation requ√™te : s√©lection des n premiers √©l√©ments de chaque cat√©gorie" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index8192.html?q=node/1453">Optimisation requ√™te : s√©lection des n premiers √©l√©ments de chaque cat√©gorie</a></h1>
		    <p>
			    Par <a href="index78a8.html?q=user/2953" title="Voir le profil utilisateur.">Nicop</a> le 12/11/2007 - 17:22
		    </p>	
			    <p>Bonjour,</p>
<p>Je souhaite savoir s'il existe une m√©thode "optimale" pour r√©cup√©rer les n premi√®res lignes de chaque cat√©gorie d'un ensemble de donn√©es.</p>
<p>Je m'explique. Imaginons le jeu de donn√©es suivant :</p>
<p>CREATE TABLE ma_table<br />
(<br />
  ID integer NOT NULL,<br />
  ID_CATEGORIE integer,<br />
  CONSTRAINT ma_table_pkey PRIMARY KEY (ID)<br />
)<br />
WITHOUT OIDS;<br />
INSERT INTO ma_table(ID, ID_CATEGORIE) VALUES(1,1);</p>
<!--hr /--><div class="contentsLink">[ <a href="index8192.html?q=node/1453#comment" title="Sauter au premier commentaire de ce message.">1 commentaire</a> | <a href="index8192.html?q=node/1453" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Ma base fait presque 5 Go et deviens tr√®s lente √† sauvegarder" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index1854.html?q=node/1436">Ma base fait presque 5 Go et deviens tr√®s lente √† sauvegarder</a></h1>
		    <p>
			    Par <a href="index3a41.html?q=user/2131" title="Voir le profil utilisateur.">bemous</a> le 26/10/2007 - 19:50
		    </p>	
			    <p>salut √† tous,<br />
voila j'ai un serveur postgre qui comporte plusieur base de donn√©es dont l'une atteint des proportion gigantesque du fait de ce qu'on y stock (Des images crypter √† l'aide de la fonction base64).<br />
En effet cette derni√®re atteint presque 5 Go et devient tres dificile √† sauvegarder! Pourriez vous me donner des id√©es la rendre moins grosse ou moins lourde!</p>
<p>Dans le meme temps j'aimerais savoir la limite de stockage de postgre!</p>
<!--hr /--><div class="contentsLink">[ <a href="index1854.html?q=node/1436#comment" title="Sauter au premier commentaire de ce message.">10 commentaires</a> | <a href="index1854.html?q=node/1436" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "optimisation d'une requete avec extraction de minimum et maximum d'une date" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index1e5b-2.html?q=node/1377">optimisation d'une requete avec extraction de minimum et maximum d'une date</a></h1>
		    <p>
			    Par <a href="index4d8f.html?q=user/2247" title="Voir le profil utilisateur.">jsubei</a> le 05/09/2007 - 11:11
		    </p>	
			    <p>Bonjour √† tous,</p>
<p>j'ai une requete de la forme</p>
<p>SELECT id, min(the_date), max(the_date) from ma_table group by id;</p>
<p>que je cherche √† optimiser.</p>
<p>Naivement j'ai cr√©e un index b-tree sur la colonne the_date mais cela est sans effet sur l'extraction du minimum et du maximum (normal, ce ne sont pas des constantes, c'est bien cela ?)</p>
<p>je sais √©galement que dans ce cas je ne peut pas cr√©er d'index sur la function ma_table(min(the_date)) puisque c'est une fonction aggr√©gative.</p>
<!--hr /--><div class="contentsLink">[ <a href="index1e5b-2.html?q=node/1377#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index1e5b-2.html?q=node/1377" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Replication de base" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index37bb.html?q=node/1375">Replication de base</a></h1>
		    <p>
			    Par <a href="index4966.html?q=user/2825" title="Voir le profil utilisateur.">santnet</a> le 04/09/2007 - 16:24
		    </p>	
			    <p>Bonjour,</p>
<p>Je dois mettre en place une replication de ma base de donnees afin d assurer une continuite de service en cas de soucis.<br />
Pour cela je vais devoir parametrer un 2ieme serveur postgres en slave.</p>
<p>Lors d'un soucis sur mon serveur maitre, le slave deviendra a son tour maitre.</p>
<p>Une intervention manuelle peut etre possible pour remettre en fonction le serveur defectueux. Par contre le passage du serveur esclave en</p>
<!--hr /--><div class="contentsLink">[ <a href="index37bb.html?q=node/1375#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index37bb.html?q=node/1375" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "Replication de postgres" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="indexec3d.html?q=node/1374">Replication de postgres</a></h1>
		    <p>
			    Par <a href="index4966.html?q=user/2825" title="Voir le profil utilisateur.">santnet</a> le 04/09/2007 - 11:16
		    </p>	
			    <p>Bonjour,</p>
<p>Je dois mettre en place une replication de ma base de donnees afin d assurer une continuite de service en cas de soucis.<br />
Pour cela je vais devoir parametrer un 2ieme serveur postgres en slave.</p>
<p>Lors d'un soucis sur mon serveur maitre, le slave deviendra a son tour maitre.</p>
<p>Une intervention manuelle peut etre possible pour remettre en fonction le serveur defectueux. Par contre le passage du serveur esclave en</p>
<!--hr /--><div class="contentsLink">[ <a href="indexec3d.html?q=node/1374#comment" title="Sauter au premier commentaire de ce message.">5 commentaires</a> | <a href="indexec3d.html?q=node/1374" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->

<!-- node: "probleme d'indexs" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexeb61.html?q=taxonomy/term/12" class="active">Technique - optimisation</a> | <a href="index072f.html?q=node/1333">probleme d'indexs</a></h1>
		    <p>
			    Par <a href="index6db2.html?q=user/2665" title="Voir le profil utilisateur.">aitali</a> le 16/07/2007 - 19:20
		    </p>	
			    <p>Bonjour a tous,</p>
<p>J'ai ex√©cut√© cette commande sur ma base:<br />
<code><br />
select * from v_stats_size_pretty ;<br />
</code></p>
<p>J'ai le resultat suivant:</p>
<p><code><br />
 &nbsp;&nbsp;&nbsp;nom&nbsp;&nbsp;&nbsp;| tuples | volume_total | volume_donnees | volume_index<br />
 ---------+--------+--------------+----------------+--------------<br />
 table100 |&nbsp;82643&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;448 MB&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101 MB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;380 MB    </p>
<!--hr /--><div class="contentsLink">[ <a href="index072f.html?q=node/1333#comment" title="Sauter au premier commentaire de ce message.">4 commentaires</a> | <a href="index072f.html?q=node/1333" title="Lire le reste de cette contribution." class="read-more">lire plus</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->
<div id="pager" class="container-inline"><div><a href="index354d.html?q=taxonomy/term/12&amp;from=0">premi√®re page</a></div><div><a href="index354d.html?q=taxonomy/term/12&amp;from=0">page pr√©c√©dente</a></div><div><a href="index354d.html?q=taxonomy/term/12&amp;from=0">1</a> <strong>2</strong> <a href="indexa2a3.html?q=taxonomy/term/12&amp;from=20">3</a> <a href="index3c14.html?q=taxonomy/term/12&amp;from=30">4</a> <a href="indexcc74.html?q=taxonomy/term/12&amp;from=40">5</a> <a href="indexdaed.html?q=taxonomy/term/12&amp;from=50">6</a> <a href="index236d-2.html?q=taxonomy/term/12&amp;from=60">7</a> </div><div><a href="indexa2a3.html?q=taxonomy/term/12&amp;from=20">page suivante</a></div><div><a href="index236d-2.html?q=taxonomy/term/12&amp;from=60">derni√®re page</a></div></div><div class="xml-icon"><a href="index7a0d.html?q=taxonomy/term/12/0/feed"><img src="misc/xml.png" width="36" height="14" alt="Flux XML" title="Flux XML" /></a></div>
<!-- end content -->
              </td>

    </tr>
    <tr><td colspan="2">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
    </td></tr>
   </table>
   <p style="text-align: center;">&copy;&nbsp;PostgreSQLFr, tous droits r√©serv√©s.<br>
Site d√©clar√© √† la CNIL sous le num√©ro 1074678, conform√©ment √† la Loi en vigueur.
</p>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3921927-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<p></p>
   
</body>

<!-- Mirrored from drupal.postgresql.fr/?q=taxonomy/term/12&from=10 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 16:16:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>