
<!DOCTYPE
 html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 <html>
 <!-- $Date: 2005/08/30 07:54:43 $ / $Revision: 1.29 $ / Last Theme Editor :$Author: jx $-->
  
<!-- Mirrored from drupal.postgresql.fr/?q=node/779 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 17:13:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base  />
<style type="text/css" media="all">@import "misc/drupal.css";</style>
   <title>D√©gradation temps de r√©ponse PG 8.0.3 + Fedora Core4 - PostgreSQLFr</title>
 <style type="text/css" media="screen" title="Normal Text">
    @import url("layout/css/blue/fixed.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
 <style type="text/css" media="screen" title="Normal Text2">
    @import url("layout/css/blue/pgfr.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
   </head>
   <body>
    <table border="0" cellspacing="5" cellpadding="0" width="100%">
     <tr>
      <!--td colspan="2" width="100%"-->
      <td colspan="2">
      <!-- Head -->
       <table border="0" cellspacing="0" cellpadding="0" width="100%">
        <tr>
	 <td align="left">
           <div id="pgHeader">
	    <div id="pgHeaderLogoLeft">
	     <a href="index.html" title="PostgreSQL"><img src="layout/images/hdr_left.png" width="230" height="80" alt="PostgreSQL" /></a>
	    </div>
	    <div id="pgHeaderLogoRight">
	     <a href="index.html" title="La base de donnÈes la plus sophistiquÈe au monde."><img src="layout/images/hdr_right.png" width="210" height="80" alt="La base de donnÈes la plus sophistiquÈe au monde." /></a>
	    </div>
	   </div>
         </td>
	 <td align="right">
         </td>
	</tr>
      </table> <!-- Head -->
      <br />
      <table border="0" cellspacing="0" cellpadding="0" width="100%">
              <tr>
	      	 <td align="left">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
		</td>
		</tr>
		</table>
      </td>
     </tr>
     <tr>
    <td style="vertical-align: top; width: 20%;">
<div class="block block-user" id="block-user-0">
<div class="pgSideNav">    <h2>Ouverture de session</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=user/login" method="post">
<div class="user-login-block">
<input type="hidden" name="edit[destination]" value="node/779" />
<div class="form-item">
 <label for="edit-name">Nom d'utilisateur:</label><br />
 <input type="text" maxlength="64" class="form-text" name="edit[name]" id="edit-name" size="15" value="" />
</div>
<div class="form-item">
 <label for="edit-pass">Mot de passe:</label><br />
 <input type="password" class="form-password" maxlength="64" name="edit[pass]" id="edit-pass" size="15" value="" />
</div>
<input type="submit" class="form-submit" name="op" value="Identification"  />
</div>

</form>
<div class="item-list"><ul><li><a href="indexc12c.html?q=user/password" title="Demander un nouveau mot de passe par e-mail.">Demander un nouveau mot de passe</a></li></ul></div>
		    </div></div></div>
<div class="block block-user" id="block-user-1">
<div class="pgSideNav">    <h2>Navigation</h2>    
		    <div>
			<div class="menu">
<ul>
<li class="leaf"><a href="indexa499.html?q=tracker">messages r√©cents</a></li>

</ul>
</div>
		    </div></div></div>
<div class="block block-block" id="block-block-4">
<div class="pgSideNav">    <h2>Contactez-nous</h2>    
		    <div>
			<p><strong>Administration du site&nbsp;:</strong><br />
"equipe chez postgresqlfr point org"<br><br />
<strong>Contact presse&nbsp;:</strong><br />
"fr chez postgresql point org"<br><br />
<strong>Contact association&nbsp;:</strong><br />
"bureau chez postgresqlfr point org"<br><br />
<strong>Questions PostgreSQL&nbsp;:</strong><br />
&nbsp;IRC&nbsp;:<br />
&nbsp;&nbsp;serveur <strong>irc.freenode.net</strong><br />
&nbsp;&nbsp;canal <strong>#postgresqlfr</strong></p>

		    </div></div></div>
<div class="block block-block" id="block-block-1">
<div class="pgSideNav">    <h2>Liens</h2>    
		    <div>
			<p><small></p>
<ul>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/162">Adh√©rer</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/473">Faire un don</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/163">Consulter les statuts</a>
</li>
</ul>
<ul>
<li>
<a href="http://www.postgresql.org/" class="active">Site original<br />
</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/" class="active">Site de traduction</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.3/">Doc v.8.3.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.2/">Doc v.8.2.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.1/">Doc v.8.1.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.0/">Doc v.8.0.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/7.4/">Doc v.7.4.x fr</a>
</li>
<li>
<a href="http://www.postgis.fr/">PostGIS</a>
</li>
<li>
<a href="http://www.postgresql.org/docs/techdocs">Techdocs</a>
</li>
<li>
<a href="http://www.varlena.com/varlena/GeneralBits/Tidbits/">General TidBits</a>
</li>
<p><!--</p>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/58">Version Windows</a>
</li>
<p>--></p>
<li>
<a href="http://www.postgresqlfr.org/drupal/?q=node/view/63">T√©moignages de pros</a>
</li>
<li>
<a href="http://archives.postgresql.org/pgsql-fr-generale/">Liste de diffusion</a>
</li>
<li>
<a href="http://wwwmaster.postgresql.org/download/mirrors-ftp">T√©l√©charger</a>
</li>
</ul>
<p></small></p>

		    </div></div></div>
<div class="block block-block" id="block-block-2">
<div class="pgSideNav">    <h2>Recherche</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=search" method="post">
<div id="search">
<input class="form-text" type="text" size="15" value="" name="keys" alt="Enter the terms you wish to search for." /><br />
<input class="form-submit" type="submit" value="Recherche" />
</div>
</form>

		    </div></div></div>
<div class="block block-forum" id="block-forum-0">
<div class="pgSideNav">    <h2>Sujets du forum</h2>    
		    <div>
			<div class="item-list"><h3>Sujets actifs</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index97c1.html?q=node/1731" title="5 commentaires">Connexions simultann√©es</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li></ul></div><div class="item-list"><h3>Nouveaux sujets:</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li><li><a href="index82c4.html?q=node/1734" title="2 commentaires">[RESOLU] Probleme de connection en odbc</a></li></ul></div><div class="more-link"><a href="index79b7.html?q=forum" title="Lire les derniers sujets.">en lire plus</a></div>
		    </div></div></div>
<div class="block block-archive" id="block-archive-0">
<div class="pgSideNav">    <h2>Acc√©der aux archives</h2>    
		    <div>
			
<!-- calendar -->
<div class="calendar"><table summary="Un calendrier pour acc√©der aux archives.">
 <caption><a href="index9dfb.html?q=archive/2008/09/12" title="Mois pr√©c√©dent">&laquo;</a> Octobre 2008 &nbsp;</caption>
 <tr class="header-week">
 <th abbr="Lundi">Lun</th>
 <th abbr="Mardi">Mar</th>
 <th abbr="Mercredi">Mer</th>
 <th abbr="Jeudi">Jeu</th>
 <th abbr="Vendredi">Ven</th>
 <th abbr="Samedi">Sam</th>
 <th abbr="Dimanche">Dim</th>
</tr>
 <tr class="row-week"><td class="day-blank" colspan="2">&nbsp;</td>
  <td class="day-link"><a href="indexd3e2.html?q=archive/2008/10/1">1</a></td>
  <td class="day-normal">2</td>
  <td class="day-normal">3</td>
  <td class="day-normal">4</td>
  <td class="day-normal">5</td>
 </tr>
 <tr class="row-week">
  <td class="day-normal">6</td>
  <td class="day-normal">7</td>
  <td class="day-normal">8</td>
  <td class="day-normal">9</td>
  <td class="day-normal">10</td>
  <td class="day-normal">11</td>
  <td class="day-today">12</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">13</td>
  <td class="day-future">14</td>
  <td class="day-future">15</td>
  <td class="day-future">16</td>
  <td class="day-future">17</td>
  <td class="day-future">18</td>
  <td class="day-future">19</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">20</td>
  <td class="day-future">21</td>
  <td class="day-future">22</td>
  <td class="day-future">23</td>
  <td class="day-future">24</td>
  <td class="day-future">25</td>
  <td class="day-future">26</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">27</td>
  <td class="day-future">28</td>
  <td class="day-future">29</td>
  <td class="day-future">30</td>
  <td class="day-future">31</td>
  <td class="day-blank" colspan="2">&nbsp;</td>
 </tr>
</table></div>


		    </div></div></div>
<div class="block block-node" id="block-node-0">
<div class="pgSideNav">    <h2>Syndication</h2>    
		    <div>
			<div class="xml-icon"><a href="index9637.html?q=rss.xml"><img src="misc/xml.png" width="36" height="14" alt="Flux XML" title="Flux XML" /></a></div>
		    </div></div></div>
<div class="block block-poll" id="block-poll-0">
<div class="pgSideNav">    <h2>Sondage</h2>    
		    <div>
			<div class="poll"><div class="title">Quelle est la version de PostgreSQL la plus r√©pandue sur vos serveurs ?</div><div class="text">8.3</div><div class="bar"><div style="width: 10%;" class="foreground"></div></div><div class="percent">10%</div><div class="text">8.2</div><div class="bar"><div style="width: 42%;" class="foreground"></div></div><div class="percent">42%</div><div class="text">8.1</div><div class="bar"><div style="width: 40%;" class="foreground"></div></div><div class="percent">40%</div><div class="text">8.0</div><div class="bar"><div style="width: 2%;" class="foreground"></div></div><div class="percent">2%</div><div class="text">7.4</div><div class="bar"><div style="width: 6%;" class="foreground"></div></div><div class="percent">6%</div><div class="text">7.3 ou ant√©rieure</div><div class="bar"><div style="width: 0%;" class="foreground"></div></div><div class="percent">0%</div><div class="total">Nombre de votes: 48</div></div><div class="links"><a href="index8c57.html?q=node/1426#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">anciens sondages</a></div>
		    </div></div></div>
    </td>

      <td style="vertical-align: top; width: 80%"><div class="breadcrumb"><a href="index03d2.html?q=">Accueil</a> &raquo; <a href="index79b7.html?q=forum">forums</a> &raquo; <a href="indexc742.html?q=forum/21">Technique - installation</a></div><h2 class="title">D√©gradation temps de r√©ponse PG 8.0.3 + Fedora Core4</h2>
<!-- begin content -->

<!-- node: "D√©gradation temps de r√©ponse PG 8.0.3 + Fedora Core4" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="indexa016.html?q=taxonomy/term/21">Technique - installation</a> | <a href="indexf89a.html?q=node/779" class="active">D√©gradation temps de r√©ponse PG 8.0.3 + Fedora Core4</a></h1>
		    <p>
			    Par <a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a> le 23/06/2006 - 14:01
		    </p>	
			    <p>Salut √† tous,</p>
<p>Lors de l'utilisation d'un SELECT comportant plusieurs SELECT, les temps de r√©ponse sont catastrophiques sous Pg 8.0.3 avec Fedora Core 4. Je pr√©cise que la m√™me requ√™te avec une base recr√©√©e avec Pg 7.4.5 sous Mandiva 10.1, fonctionne parfaitement.</p>
<p>1. Faut-il attendre une nouvelle version de Pg ?<br />
ou<br />
2. Quelle version de Pg utiliser sous Fedora Core 4 ?</p>
<p>3. Est-ce que le probl√®me doit-√™tre aussi adress√© au forum de Fedora ?</p>
<p>Merci d'avance de votre aide.</p>
<!--hr /--><div class="contentsLink">[ <a href="index9dda-2.html?q=node/806" title=" could not access file "$libdir/ascii_and_mic"">sujet pr√©c√©dent</a> | <a href="index34be.html?q=node/1243" title="OpenBSD, postgresql 8.2.4 et authentification">sujet suivant</a> ]</div>
		     </div></div>
<!--</div>
</div>
</div>
</div> -->
<a id="comment"></a>
<form method="post" action="http://drupal.postgresql.fr/?q=comment"><div>
<div class="pgSideNav">    <h2>Options d'affichage des commentaires</h2>    
		    <div>
			<div class="form-item">
 <select name="mode"> <option value="1">A plat - repli√©</option>
 <option value="2">A plat - d√©pli√©</option>
 <option value="3">Par discussions - repli√©</option>
 <option value="4" selected="selected">Par discussions - d√©pli√©</option>
</select>
<select name="order"> <option value="1">Date - r√©cents en premier</option>
 <option value="2" selected="selected">Date - anciens en premier</option>
</select>
<select name="comments_per_page"> <option value="10">10 commentaires par page</option> <option value="30">30 commentaires par page</option> <option value="50" selected="selected">50 commentaires par page</option> <option value="70">70 commentaires par page</option> <option value="90">90 commentaires par page</option></select>
<input type="hidden" name="threshold" value="0" />
 <input type="submit" class="form-submit" name="op" value="Sauvegarder les param√®tres"  />

 <div class="description">S√©lectionnez la m√©thode d'affichage des commentaires que vous pr√©f√©rez, puis cliquez sur "Sauvegarder les param√®tres" pour activer vos changements.</div>
</div>

		    </div></div><input type="hidden" name="edit[nid]" value="779" />
</div></form><form method="post" action="http://drupal.postgresql.fr/?q=comment"><div>
<input type="hidden" name="edit[nid]" value="779" />
<a id="comment-1086"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Subselect</h1>
		<p>
		    <b><a href="index6e6b.html?q=user/65" title="Voir le profil utilisateur.">SAS</a></b>/ = 23 Juin, 2006 - 15:12
		</p>
		<p>
		    <p>Bonjour, </p>
<p>Les deux bases sont-elles en tout point identiques, en terme de donn√©es ?<br />
Un vacuum analyze a-t-il √©t√© r√©cemment effectu√© sur la FC ?</p>
<p>D'autre part, depuis la 8.0.3, sont apparues la 8.1 et la 8.0.4.</p>
<p>Librement,<br />
St√©phane Schildknecht</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div><div style="margin-left:25px;">
<a id="comment-1097"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Vacuum FC4</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 23 Juin, 2006 - 16:39
		</p>
		<p>
		    <p>Bonjour,</p>
<p>Les deux bases PG sont absolument identiques.</p>
<p>Sous pgsql, en SU, j'ai lanc√©<br />
vacuumdb --analyze mybase<br />
mais aucun message d'info, mais une ex√©cution tr√®s rapide et un retour sous pgsql. Toutefois, je suis sorti de pgsql et j'ai relanc√© ma requ√™te pour obtenir un r√©sultat aussi catastrophique qu'avant le vacuum. J'ai sans doute mal appliqu√© la commande vacuumdb..</p>
<p>J'aimerai bien vir√© pg 8.0.3 mais j'avoue humblement ne pas savoir comment d√©sinstaller et r√©installer une nouvelle version de pg :-((</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:50px;">
<a id="comment-1104"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">J'ai vir√© la 8.0.3 pour inst</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 27 Juin, 2006 - 14:38
		</p>
		<p>
		    <p>J'ai vir√© la 8.0.3 pour installer la version jdbc-8.1.3-3-1PGDG.i686.rpm mais sans plus de succ√®s. Ca se tra√Æne toujours autant..<br />
J'ai comme la triste impression que √ßa n'int√©resse personne, alors on remettra l'utilisation de 8.x.x √† plus tard. Dommage :-((</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:50px;">
<a id="comment-1105"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">D√©ja les 2 bases ne se trouv</h1>
		<p>
		    <b><a href="index0b33.html?q=user/22" title="Voir le profil utilisateur.">Christophe Chauvet</a></b>/ = 27 Juin, 2006 - 17:08
		</p>
		<p>
		    <p>D√©ja les 2 bases ne se trouve pas sous les m√™mes distribs, y'a une FC4 et une Mandrake, il se peut qu'au niveau du noyau certains param√®tres soit diff√©rents.</p>
<p>ensuite un explain plan de la requ√™te ne serait pas inutile pour voir ce qu'il est possible d'am√©liorer.</p>
<p>Ensuite syntaxiquement la requ√™te est elle bien √©crite ?</p>
<p>Cordialement.</p>
<p>Christophe Chauvet<br />
http://kryskool.org/</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:75px;">
<a id="comment-1106"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Pr√©cision : Il s'agit de la </h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 27 Juin, 2006 - 18:59
		</p>
		<p>
		    <p>Pr√©cision : Il s'agit de la m√™me base, install√©e sous Mandriva avec 7.4.13, et sous FC4 avec une 8.1.3, quant √† la requ√™te elle est assez compliqu√©e et √©crite soigneusement pour un r√©sultat qui, jusqu'√† pr√©sent, √©tait parfait avec les versions ant√©rieures de PG.</p>
<p>Actuellement, j'ai d√©sinstall√© la PG 8.1.3 pour la remplacer par la 7.4.13, et je tente p√©niblement de mettre en oeuvre le serveur PG sous FC4 en local, afin de v√©rifier si le probl√®me est issu de FC ou de la version 8.1.3.</p>
<p>Merci de l'int√©r√™t port√© √† mon probl√®me</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:100px;">
<a id="comment-1107"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Bonjour</h1>
		<p>
		    <b><a href="indexec55.html?q=user/2" title="Voir le profil utilisateur.">Jean-Paul Argudo</a></b>/ = 28 Juin, 2006 - 10:24
		</p>
		<p>
		    <p>
Bonjour,</p>
<p>Nous ne doutons aucunement de vos capacit√©s √† √©crire une requ√™te correctement. Comprenez cependant que vous ne nous donnez rien pour vous aider (la requ√™te, un bout de sch√©ma, un EXPLAIN ANALYZE, un postgresql.conf&nbsp;?)&nbsp;!</p>
<p>De plus, vous parlez d'un probl√®me pr√©cis pour <b>1</b> requ√™te&nbsp;! Quid des autres&nbsp;? Il y a de plus un foss√© entre les performances entre un PG 8 et un PG 7, que ce soit un 8.0 ou un 8.1... Je trouve vraiment domage que vous soyez revenu en arri√®re aussi vite, sans nous donner de vrais moyens de vous aider.</p>
<p>Cordialement,</p>
<p>--<br />
Jean-Paul ARGUDO<br />
<a href="http://www.dalibo.com/">www.dalibo.com</a>
</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:125px;">
<a id="comment-1109"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Abstreint au r√©sultat..</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 28 Juin, 2006 - 12:13
		</p>
		<p>
		    <p>[.. vous ne nous donnez rien pour vous aider (la requ√™te, un bout de sch√©ma, un EXPLAIN ANALYZE, un postgresql.conf ?) ! ]</p>
<p>Tout √† fait raison.. et je m'en excuse :-(<br />
Comment faire, pour "quoter", pour joindre des images et/ou des fichiers √† mon message ?</p>
<p>En ce qui concerne les autres requ√™tes, qui sont bien moins lourdes, notre client testeur ne nous a pas fait de remarques, et nos tests n'ont pas fait ressortir de d√©gradations significatives.</p>
<p>La d√©cision de revenir en arri√®re avec une 7.4.13 a √©t√© prise principalement pour comparer le comportement de la fameuse requ√™te avec la Fedora Core 4. Malheureusement, nous n'avons pas trop les moyens de faire du labo. Il s'agit d'une application "front office", et le confort de nos clients compte avant toutes consid√©rations technique.<br />
Mais d√®s la tranquillit√© chez notre client, nous r√©installerons la derni√®re version de PG et nous mettrons en batterie tous les outils de tests, car ici nous sommes persuad√©s de la superiorit√© de PG.</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:125px;">
<a id="comment-1111"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">R√©sultats requ√™te</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 28 Juin, 2006 - 23:51
		</p>
		<p>
		    <p>L'exploitation de la grosse requ√™te sous FC4 avec PG 7.4.13 ne pose aucun souci. Par cons√©quent j'en d√©dui que la FC4 n'est pas en cause.<br />
N√©anmoins nous avons remont√© une version 8.1.3 sous une FC4 en relan√ßant la requ√™te au moyen de phppgadmin, et le r√©sultat fut presque aussi mauvais qu'avec notre application (Java).<br />
Demain nous esp√©rons trouver un peu de temps pour lancer la requ√™te avec EXPLAIN ANALYZE et vous fournir aussit√¥t les r√©sultats.</p>
<p>A bient√¥t</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:125px;">
<a id="comment-1118"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">EXPLAIN ANALYZE</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 29 Juin, 2006 - 17:48
		</p>
		<p>
		    <p>Bonjour,</p>
<p>Comme convenu, voici le EXPLAIN ANALYZE de la requ√™te qui se tra√Æne sous PG 8 + FC4</p>
<p>SELECT DISTINCT m.id_produitgen, m.etat, m.foyer, m.matieredeverre, m.code, m.nom, m.codediametre, m.indicerefraction, m.prixvente, f.raisonsociale FROM (  SELECT m.*, c.catalogue FROM (  SELECT m.id, m.nom, m.foyer, m.indicerefraction, m.code, m.matieredeverre, p.etat, g.codediametre, g.prixvente, g.id_produitgen FROM modeledeverre m, promotions p, ( SELECT c.*, p.prixvente FROM (  SELECT c.modeledeverre, d.codediametre, c.id_produitgen FROM (  SELECT gr.modeledeverre, gr.diametreverre, gr.id_produitgen FROM grillefabricationverre gr INNER JOIN zonefabrication z ON z.id = gr.zonefabrication WHERE z.cylindremin<=0 AND z.cylindremax>=0 AND z.spherebasgauche<=0.0 AND z.spherehautgauche>=0.0 ) c INNER JOIN diametreverre d ON c.diametreverre=d.id  ) c , plagetarif p, grillefabricationverre g, diametreverre d WHERE  p.id_grille = g.id_produitgen AND g.diametreverre = d.id AND d.codediametre = c.codediametre AND c.modeledeverre = g.modeledeverre AND  p.cylindredebut<=0.0 AND p.cylindrefin>=0.0 AND p.spheredebut<=0.0 AND p.spherefin>=0.0  ) g WHERE m.id=g.modeledeverre  AND m.actif = true AND m.promotion=p.id  AND  m.foyer = 1000  AND  m.matieredeverre=1000  ) m INNER JOIN modele_catalogue c ON m.id=c.id  ) m INNER JOIN (  SELECT catalogue.id, ent.raisonsociale FROM catalogue INNER JOIN  (SELECT e.id, e.raisonsociale FROM entreprises e WHERE e.raisonsociale = 'ESSILOR') ent  ON ent.id = catalogue.fournisseur  ) f ON m.catalogue=f.id </p>
<p>Unique  (cost=3029.87..3029.90 rows=1 width=1629) (actual time=57598.519..57600.986 rows=192 loops=1)</p>
<p>  ->  Sort  (cost=3029.87..3029.87 rows=1 width=1629) (actual time=57598.508..57599.177 rows=192 loops=1)</p>
<p>        Sort Key: gr.id_produitgen, p.etat, m.foyer, m.matieredeverre, m.code, m.nom, d.codediametre, m.indicerefraction, p.prixvente, e.raisonsociale</p>
<p>        ->  Nested Loop  (cost=190.90..3029.86 rows=1 width=1629) (actual time=39739.474..57593.245 rows=192 loops=1)</p>
<p>              Join Filter: ("inner".id = "outer".fournisseur)</p>
<p>              ->  Hash Join  (cost=190.90..3026.18 rows=1 width=1237) (actual time=289.064..57455.036 rows=1029 loops=1)</p>
<p>                    Hash Cond: ("outer".catalogue = "inner".id)</p>
<p>                    ->  Nested Loop  (cost=189.73..3024.93 rows=15 width=1237) (actual time=278.951..57430.417 rows=1029 loops=1)</p>
<p>                          ->  Nested Loop  (cost=189.73..2978.34 rows=1 width=1253) (actual time=267.808..57341.548 rows=469 loops=1)</p>
<p>                                ->  Nested Loop  (cost=189.73..2972.46 rows=1 width=1260) (actual time=257.125..57282.424 rows=469 loops=1)</p>
<p>                                      Join Filter: ("inner".id_grille = "outer".id_produitgen)</p>
<p>                                      ->  Nested Loop  (cost=189.73..308.27 rows=1 width=1260) (actual time=215.740..377.389 rows=636 loops=1)</p>
<p>                                            Join Filter: (("inner".codediametre)::text = ("outer".codediametre)::text)</p>
<p>                                            ->  Hash Join  (cost=189.73..296.31 rows=2 width=1268) (actual time=215.577..292.916 rows=1896 loops=1)</p>
<p>                                                  Hash Cond: ("outer".modeledeverre = "inner".modeledeverre)</p>
<p>                                                  ->  Seq Scan on grillefabricationverre g  (cost=0.00..84.57 rows=4357 width=24) (actual time=0.010..23.191 rows=4357 loops=1)</p>
<p>                                                  ->  Hash  (cost=189.73..189.73 rows=1 width=1244) (actual time=212.886..212.886 rows=0 loops=1)</p>
<p>                                                        ->  Nested Loop  (cost=53.40..189.73 rows=1 width=1244) (actual time=55.594..210.516 rows=469 loops=1)</p>
<p>                                                              ->  Nested Loop  (cost=53.40..183.76 rows=1 width=852) (actual time=39.392..133.257 rows=469 loops=1)</p>
<p>                                                                    ->  Hash Join  (cost=53.40..159.80 rows=4 width=860) (actual time=25.013..73.515 rows=1060 loops=1)</p>
<p>                                                                          Hash Cond: ("outer".modeledeverre = "inner".id)</p>
<p>                                                                          ->  Seq Scan on grillefabricationverre gr  (cost=0.00..84.57 rows=4357 width=32) (actual time=9.862..30.558 rows=4357 loops=1)</p>
<p>                                                                          ->  Hash  (cost=53.40..53.40 rows=1 width=828) (actual time=12.487..12.487 rows=0 loops=1)</p>
<p>                                                                                ->  Seq Scan on modeledeverre m  (cost=0.00..53.40 rows=1 width=828) (actual time=5.041..11.130 rows=299 loops=1)</p>
<p>                                                                                      Filter: ((actif = true) AND (foyer = 1000) AND (matieredeverre = 1000))</p>
<p>                                                                    ->  Index Scan using zonefabrication_pkey on zonefabrication z  (cost=0.00..5.98 rows=1 width=8) (actual time=0.042..0.044 rows=0 loops=1060)</p>
<p>                                                                          Index Cond: (z.id = "outer".zonefabrication)</p>
<p>                                                                          Filter: ((cylindremin <= 0::double precision) AND (cylindremax >= 0::double precision) AND (spherebasgauche <= 0::double precision) AND (spherehautgauche >= 0::double precision))</p>
<p>                                                              ->  Index Scan using diametreverre_pkey on diametreverre d  (cost=0.00..5.96 rows=1 width=408) (actual time=0.141..0.146 rows=1 loops=469)</p>
<p>                                                                    Index Cond: ("outer".diametreverre = d.id)</p>
<p>                                            ->  Index Scan using diametreverre_pkey on diametreverre d  (cost=0.00..5.96 rows=1 width=408) (actual time=0.016..0.023 rows=1 loops=1896)</p>
<p>                                                  Index Cond: ("outer".diametreverre = d.id)</p>
<p>                                      ->  Seq Scan on plagetarif p  (cost=0.00..2650.94 rows=1060 width=16) (actual time=0.041..76.048 rows=3644 loops=636)</p>
<p>                                            Filter: ((cylindredebut <= 0::double precision) AND (cylindrefin >= 0::double precision) AND (spheredebut <= 0::double precision) AND (spherefin >= 0::double precision))</p>
<p>                                ->  Index Scan using promotions_pkey on promotions p  (cost=0.00..5.87 rows=1 width=9) (actual time=0.090..0.095 rows=1 loops=469)</p>
<p>                                      Index Cond: ("outer".promotion = p.id)</p>
<p>                          ->  Index Scan using modele_catalogue_pkey on modele_catalogue c  (cost=0.00..46.41 rows=15 width=16) (actual time=0.111..0.151 rows=2 loops=469)</p>
<p>                                Index Cond: (c.id = "outer".modeledeverre)</p>
<p>                    ->  Hash  (cost=1.13..1.13 rows=13 width=16) (actual time=9.990..9.990 rows=0 loops=1)</p>
<p>                          ->  Seq Scan on catalogue  (cost=0.00..1.13 rows=13 width=16) (actual time=9.864..9.922 rows=13 loops=1)</p>
<p>              ->  Seq Scan on entreprises e  (cost=0.00..3.66 rows=1 width=408) (actual time=0.095..0.116 rows=1 loops=1029)</p>
<p>                    Filter: ((raisonsociale)::text = 'ESSILOR'::text)</p>
<p>Total runtime: 57602.485 ms</p>
<p>43 row(s)</p>
<p>Total runtime: 58,201.784 ms</p>
<p>SQL executed.</p>
<p>D√©sol√© pour la lourdeur du message mais je n'ai pas trouv√© comment joindre un fichier et/ou une image. A votre disposition pour des informations compl√©mentaires.</p>
<p>Cordialement</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:125px;">
<a id="comment-1173"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">No reply .. C'est compliqu√© ?</h1>
		<p>
		    <b><a href="index2647.html?q=user/991" title="Voir le profil utilisateur.">cia</a></b>/ = 25 Juillet, 2006 - 18:03
		</p>
		<p>
		    <p>Comme on m'y a invit√©, j'ai remont√© une version 8.1.x et r√©alis√© les tests que l'on m'a demand√©, et comme vous pouvez le constater, je les ai mis √† votre disposition depuis le 29-06-2006. Depuis, aucune r√©ponse malheureusement. J'aimerai pourtant utilis√© une version 8.1.x et serai pr√™t √† vous rendre compte des am√©liorations et/ou des probl√®mes contat√©s.</p>
<p>Dois-je penser que le probl√®me expos√© ne repr√©sente aucun int√©r√™t ?</p>
<p>Cordialement</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
<div style="margin-left:150px;">
<a id="comment-1174"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">R√©ponse :*)</h1>
		<p>
		    <b><a href="indexec55.html?q=user/2" title="Voir le profil utilisateur.">Jean-Paul Argudo</a></b>/ = 26 Juillet, 2006 - 01:11
		</p>
		<p>
		    <p>
Bonjour,</p>
<p>Pour r√©pondre √† votre derni√®re question, toutes les personnes qui r√©pondent sur ce forum le font de mani√®re b√©n√©vole ou sur leur temps de travail, gracieusement offert par leurs directions respectives, et nous ne sommes h√©las pas beaucoup √† r√©pondre...</p>
<p>Peut-√™tre pourriez-vous tenter un post sur la mailing-list fran√ßaise (voir <a href="http://archives.postgresql.org/pgsql-fr-generale/" target="_blank">http://archives.postgresql.org/pgsql-fr-generale/</a>), o√π vous pourrez trouver une plus large audience que ce forum.</p>
<p>Pour ma part, je note plusieurs choses:
<ul>
<li>la forme g√©n√©rale de la requete de type Select from (select from (select(...)))... me fait penser qu'elle est (mal) g√©n√©r√©e par un middleware ou autre application? Si oui, quel est-il?...
<li>utilisez-vous des types de donn√©es NUMERIC dans votre application en lieu et place de flottants (float..)? Si oui, sachez que ce type de donn√©es est contre-performant, il est "fait pour" g√©rer des nombres de type NUMERIC(98,23)... √† utiliser √† bon escient. La r√®gle est d'utiliser des types de donn√©es les "plus proches du C", et de bannir NUMERIC(x,y) quand c'est possible. On trouve h√©las trop d'applications migr√©es depuis Oracle (NUMBER(x,y)...): en m√©connaissance de cause, trop de DBAs migrent cela en NUMERIC(x,y)...
<li>votre postgresql.conf dans ce cas nous serait vraiment utile, pour v√©rifier au moins qu'il y a un tunning, m√™me tr√®s sommaire, du serveur PG. Vous pourrez donc attacher (d√©sormais, j'ai activ√© cette option suite √† votre 1er post...) un fichier: vous devez pour cela EDITER le post original de ce thread, vous verez tout en bas une option "ATTACHER UN FICHIER": je vous invite √† nous faire part de votre postgresql.conf...
<li>je note que des alias de sous-requ√™tes sont utilis√©s plusieurs fois (deux "c", deux "m"), cela nuit √† la lecture du code. J'ai bien tent√© une r√©√©criture du type select ... from .. where (en une seule fois, pas de sous-select!), mais je n'arrivais plus √† savoir avec quel  "m" ou "c" jouer :-(
<li>peut-√™tre faudrait-il d√©composer toutes ces requ√™tes imbriqu√©es en autant de vues, et faire les jointures entre les vues, pour plus de clart√©. Ok, nous sommes d'accord, cela ne changera probablement rien aux performances... Mais admettez que la maintenabilit√© du code sera plus simple. [Remarque non avenue si la requ√™tes est (mal) auto-g√©n√©r√©e...]
</ul>
<p>J'ai encore quelques id√©es, mais il est tard, et plus trop le temps de faire quelques tests...</p>
<p>Essayez de re-poster la m√™me requ√™te mais avec des nom d'alias uniques cette fois, et je tente une r√©-√©criture... maintenant je ne sais pas dans quelle mesure cela vous aidera...</p>
<p>Cordialement,</p>
<p>NB: d√©sol√© pour le lag pour ma r√©ponse...</p>
<p>--<br />
Jean-Paul ARGUDO<br />
<a href="http://www.dalibo.com/">www.dalibo.com</a>
</p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div>
</div></form>
<!-- end content -->
              </td>

    </tr>
    <tr><td colspan="2">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
    </td></tr>
   </table>
   <p style="text-align: center;">&copy;&nbsp;PostgreSQLFr, tous droits r√©serv√©s.<br>
Site d√©clar√© √† la CNIL sous le num√©ro 1074678, conform√©ment √† la Loi en vigueur.
</p>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3921927-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<p></p>
   
</body>

<!-- Mirrored from drupal.postgresql.fr/?q=node/779 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 17:13:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>