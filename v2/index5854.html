
<!DOCTYPE
 html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 <html>
 <!-- $Date: 2005/08/30 07:54:43 $ / $Revision: 1.29 $ / Last Theme Editor :$Author: jx $-->
  
<!-- Mirrored from drupal.postgresql.fr/?q=node/52 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 16:21:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base  />
<style type="text/css" media="all">@import "misc/drupal.css";</style>
   <title>FAQ PostgreSQL - PostgreSQLFr</title>
 <style type="text/css" media="screen" title="Normal Text">
    @import url("layout/css/blue/fixed.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
 <style type="text/css" media="screen" title="Normal Text2">
    @import url("layout/css/blue/pgfr.css");
    @import url(_guillaume/dotclear/themes/postgresql/style.html);
 </style>
   </head>
   <body>
    <table border="0" cellspacing="5" cellpadding="0" width="100%">
     <tr>
      <!--td colspan="2" width="100%"-->
      <td colspan="2">
      <!-- Head -->
       <table border="0" cellspacing="0" cellpadding="0" width="100%">
        <tr>
	 <td align="left">
           <div id="pgHeader">
	    <div id="pgHeaderLogoLeft">
	     <a href="index.html" title="PostgreSQL"><img src="layout/images/hdr_left.png" width="230" height="80" alt="PostgreSQL" /></a>
	    </div>
	    <div id="pgHeaderLogoRight">
	     <a href="index.html" title="La base de donnÈes la plus sophistiquÈe au monde."><img src="layout/images/hdr_right.png" width="210" height="80" alt="La base de donnÈes la plus sophistiquÈe au monde." /></a>
	    </div>
	   </div>
         </td>
	 <td align="right">
         </td>
	</tr>
      </table> <!-- Head -->
      <br />
      <table border="0" cellspacing="0" cellpadding="0" width="100%">
              <tr>
	      	 <td align="left">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
		</td>
		</tr>
		</table>
      </td>
     </tr>
     <tr>
    <td style="vertical-align: top; width: 20%;">
<div class="block block-user" id="block-user-0">
<div class="pgSideNav">    <h2>Ouverture de session</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=user/login" method="post">
<div class="user-login-block">
<input type="hidden" name="edit[destination]" value="node/52" />
<div class="form-item">
 <label for="edit-name">Nom d'utilisateur:</label><br />
 <input type="text" maxlength="64" class="form-text" name="edit[name]" id="edit-name" size="15" value="" />
</div>
<div class="form-item">
 <label for="edit-pass">Mot de passe:</label><br />
 <input type="password" class="form-password" maxlength="64" name="edit[pass]" id="edit-pass" size="15" value="" />
</div>
<input type="submit" class="form-submit" name="op" value="Identification"  />
</div>

</form>
<div class="item-list"><ul><li><a href="indexc12c.html?q=user/password" title="Demander un nouveau mot de passe par e-mail.">Demander un nouveau mot de passe</a></li></ul></div>
		    </div></div></div>
<div class="block block-user" id="block-user-1">
<div class="pgSideNav">    <h2>Navigation</h2>    
		    <div>
			<div class="menu">
<ul>
<li class="leaf"><a href="indexa499.html?q=tracker">messages r√©cents</a></li>

</ul>
</div>
		    </div></div></div>
<div class="block block-block" id="block-block-4">
<div class="pgSideNav">    <h2>Contactez-nous</h2>    
		    <div>
			<p><strong>Administration du site&nbsp;:</strong><br />
"equipe chez postgresqlfr point org"<br><br />
<strong>Contact presse&nbsp;:</strong><br />
"fr chez postgresql point org"<br><br />
<strong>Contact association&nbsp;:</strong><br />
"bureau chez postgresqlfr point org"<br><br />
<strong>Questions PostgreSQL&nbsp;:</strong><br />
&nbsp;IRC&nbsp;:<br />
&nbsp;&nbsp;serveur <strong>irc.freenode.net</strong><br />
&nbsp;&nbsp;canal <strong>#postgresqlfr</strong></p>

		    </div></div></div>
<div class="block block-block" id="block-block-1">
<div class="pgSideNav">    <h2>Liens</h2>    
		    <div>
			<p><small></p>
<ul>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/162">Adh√©rer</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/473">Faire un don</a>
</li>
<li>
<a href="http://www.postgresqlfr.org/?q=node/163">Consulter les statuts</a>
</li>
</ul>
<ul>
<li>
<a href="http://www.postgresql.org/" class="active">Site original<br />
</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/" class="active">Site de traduction</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.3/">Doc v.8.3.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.2/">Doc v.8.2.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.1/">Doc v.8.1.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/8.0/">Doc v.8.0.x fr</a>
</li>
<li>
<a href="http://docs.postgresqlfr.org/7.4/">Doc v.7.4.x fr</a>
</li>
<li>
<a href="http://www.postgis.fr/">PostGIS</a>
</li>
<li>
<a href="http://www.postgresql.org/docs/techdocs">Techdocs</a>
</li>
<li>
<a href="http://www.varlena.com/varlena/GeneralBits/Tidbits/">General TidBits</a>
</li>
<p><!--</p>
<li>
<a href="http://www.postgresqlfr.org/?q=node/view/58">Version Windows</a>
</li>
<p>--></p>
<li>
<a href="http://www.postgresqlfr.org/drupal/?q=node/view/63">T√©moignages de pros</a>
</li>
<li>
<a href="http://archives.postgresql.org/pgsql-fr-generale/">Liste de diffusion</a>
</li>
<li>
<a href="http://wwwmaster.postgresql.org/download/mirrors-ftp">T√©l√©charger</a>
</li>
</ul>
<p></small></p>

		    </div></div></div>
<div class="block block-block" id="block-block-2">
<div class="pgSideNav">    <h2>Recherche</h2>    
		    <div>
			<form action="http://drupal.postgresql.fr/?q=search" method="post">
<div id="search">
<input class="form-text" type="text" size="15" value="" name="keys" alt="Enter the terms you wish to search for." /><br />
<input class="form-submit" type="submit" value="Recherche" />
</div>
</form>

		    </div></div></div>
<div class="block block-forum" id="block-forum-0">
<div class="pgSideNav">    <h2>Sujets du forum</h2>    
		    <div>
			<div class="item-list"><h3>Sujets actifs</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index97c1.html?q=node/1731" title="5 commentaires">Connexions simultann√©es</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li></ul></div><div class="item-list"><h3>Nouveaux sujets:</h3><ul><li><a href="index253f.html?q=node/1742">A LIRE : FERMETURE DES FORUMS DRUPAL</a></li><li><a href="indexfc2e.html?q=node/1739" title="2 commentaires">Probl√®me  avec pg_dump</a></li><li><a href="index32d3.html?q=node/1737" title="1 commentaire">Optimisation de la m√©moire sous PostgreSQL</a></li><li><a href="index2483.html?q=node/1736" title="3 commentaires">[R√©solu] Upgrade Postgre -> types et op√©rateurs</a></li><li><a href="index82c4.html?q=node/1734" title="2 commentaires">[RESOLU] Probleme de connection en odbc</a></li></ul></div><div class="more-link"><a href="index79b7.html?q=forum" title="Lire les derniers sujets.">en lire plus</a></div>
		    </div></div></div>
<div class="block block-archive" id="block-archive-0">
<div class="pgSideNav">    <h2>Acc√©der aux archives</h2>    
		    <div>
			
<!-- calendar -->
<div class="calendar"><table summary="Un calendrier pour acc√©der aux archives.">
 <caption><a href="index9dfb.html?q=archive/2008/09/12" title="Mois pr√©c√©dent">&laquo;</a> Octobre 2008 &nbsp;</caption>
 <tr class="header-week">
 <th abbr="Lundi">Lun</th>
 <th abbr="Mardi">Mar</th>
 <th abbr="Mercredi">Mer</th>
 <th abbr="Jeudi">Jeu</th>
 <th abbr="Vendredi">Ven</th>
 <th abbr="Samedi">Sam</th>
 <th abbr="Dimanche">Dim</th>
</tr>
 <tr class="row-week"><td class="day-blank" colspan="2">&nbsp;</td>
  <td class="day-link"><a href="indexd3e2.html?q=archive/2008/10/1">1</a></td>
  <td class="day-normal">2</td>
  <td class="day-normal">3</td>
  <td class="day-normal">4</td>
  <td class="day-normal">5</td>
 </tr>
 <tr class="row-week">
  <td class="day-normal">6</td>
  <td class="day-normal">7</td>
  <td class="day-normal">8</td>
  <td class="day-normal">9</td>
  <td class="day-normal">10</td>
  <td class="day-normal">11</td>
  <td class="day-today">12</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">13</td>
  <td class="day-future">14</td>
  <td class="day-future">15</td>
  <td class="day-future">16</td>
  <td class="day-future">17</td>
  <td class="day-future">18</td>
  <td class="day-future">19</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">20</td>
  <td class="day-future">21</td>
  <td class="day-future">22</td>
  <td class="day-future">23</td>
  <td class="day-future">24</td>
  <td class="day-future">25</td>
  <td class="day-future">26</td>
 </tr>
 <tr class="row-week">
  <td class="day-future">27</td>
  <td class="day-future">28</td>
  <td class="day-future">29</td>
  <td class="day-future">30</td>
  <td class="day-future">31</td>
  <td class="day-blank" colspan="2">&nbsp;</td>
 </tr>
</table></div>


		    </div></div></div>
<div class="block block-node" id="block-node-0">
<div class="pgSideNav">    <h2>Syndication</h2>    
		    <div>
			<div class="xml-icon"><a href="index9637.html?q=rss.xml"><img src="misc/xml.png" width="36" height="14" alt="Flux XML" title="Flux XML" /></a></div>
		    </div></div></div>
<div class="block block-poll" id="block-poll-0">
<div class="pgSideNav">    <h2>Sondage</h2>    
		    <div>
			<div class="poll"><div class="title">Quelle est la version de PostgreSQL la plus r√©pandue sur vos serveurs ?</div><div class="text">8.3</div><div class="bar"><div style="width: 10%;" class="foreground"></div></div><div class="percent">10%</div><div class="text">8.2</div><div class="bar"><div style="width: 42%;" class="foreground"></div></div><div class="percent">42%</div><div class="text">8.1</div><div class="bar"><div style="width: 40%;" class="foreground"></div></div><div class="percent">40%</div><div class="text">8.0</div><div class="bar"><div style="width: 2%;" class="foreground"></div></div><div class="percent">2%</div><div class="text">7.4</div><div class="bar"><div style="width: 6%;" class="foreground"></div></div><div class="percent">6%</div><div class="text">7.3 ou ant√©rieure</div><div class="bar"><div style="width: 0%;" class="foreground"></div></div><div class="percent">0%</div><div class="total">Nombre de votes: 48</div></div><div class="links"><a href="index8c57.html?q=node/1426#comment" title="Sauter au premier commentaire de ce message.">3 commentaires</a> | <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">anciens sondages</a></div>
		    </div></div></div>
    </td>

      <td style="vertical-align: top; width: 80%"><div class="breadcrumb"><a href="index03d2.html?q=">Accueil</a></div><h2 class="title">FAQ PostgreSQL</h2>
<!-- begin content -->

<!-- node: "FAQ PostgreSQL" -->
<!--<div class="pgFrontCenterUser">
<div class="pgFrontUser">
<div class="pgFrontUserInner">
--><div class="pgFrontUserWrap">
 <div class="pgFrontUserContent">	<h1 class="plop"><a href="index8ccf.html?q=taxonomy/term/1">Technique</a> | <a href="index5854.html?q=node/52" class="active">FAQ PostgreSQL</a></h1>
		    <p>
			    Par <a href="indexc818.html?q=user/3" title="Voir le profil utilisateur.">Guillaume Lelarge</a> le 22/07/2004 - 21:57
		    </p>	
			    <h2>Foire Aux Questions (FAQ) pour PostgreSQL</h2>
<p>Derni&egrave;re mise &agrave; jour&nbsp;: vendredi 11 juillet<br />
2004 23:58:24</p>
<p>Mainteneur actuel&nbsp;: Bruce Momjian (<a href="_br_/_mailto_pgman_candle.pha.pa.html">pgman@candle.pha.pa.us</a>)</p>
<p>Traducteurs&nbsp;:Laurent Martelli, Vincent Veyron, Emmanuel Seyman.<br/><br />
Relecteur&nbsp;:Guillaume Lelarge.</p>
<p>La plus r&eacute;cente version de ce document est disponible sur</p>
<p><a href="http://www.postgresql.org/docs/faq/" target="_blank">http://www.postgresql.org/docs/faq/</a><br />
(<b>Mise √† jour 22 mars 2006... il y avait un 404, d√©sol√©</b>)</p>
<p><hr /></p>
<h3 align="center">Questions g&eacute;n&eacute;rales</h3>
<p><a href="#1.1">1.1</a>) Qu'est ce que PostgreSQL&nbsp;? Comment le<br />
prononcer&nbsp;?</p>
<p><a href="#1.2">1.2</a>) Quelle est la licence de<br />
PostgreSQL&nbsp;?<br />
<a href="#1.3">1.3</a>) Sous quels environnements Unix PostgreSQL<br />
tourne-t-il&nbsp;?<br />
<a href="#1.4">1.4</a>) Sous quels environnements non-Unix<br />
PostgreSQL tourne-t-il&nbsp;?<br />
<a href="#1.5">1.5</a>) O&ugrave; puis-je me procurer<br />
PostgreSQL&nbsp;?</p>
<p><a href="#1.6">1.6</a>) O&ugrave; puis-je obtenir du<br />
support&nbsp;?<br />
<a href="#1.7">1.7</a>) Quelle est la derni&egrave;re<br />
version&nbsp;?<br />
<a href="#1.8">1.8</a>) Quelle documentation est<br />
disponible&nbsp;?<br />
<a href="#1.9">1.9</a>) Comment savoir quels sont les bogues connus<br />
ou les fonctionnalit&eacute;s manquantes&nbsp;?</p>
<p><a href="#1.10">1.10</a>) Comment puis-je apprendre le<br />
<small>SQL</small>&nbsp;?<br />
<a href="#1.11">1.11</a>) PostgreSQL est-il compatible an<br />
2000&nbsp;?<br />
<a href="#1.12">1.12</a>) Comment puis-je rejoindre l'&eacute;quipe<br />
de d&eacute;veloppement&nbsp;?<br />
<a href="#1.13">1.13</a>) Comment dois-je soumettre un rapport de<br />
bogue&nbsp;?</p>
<p><a href="#1.14">1.14</a>) Comment PostgreSQL se compare-t'il<br />
&agrave; d'autres <small>SGBD</small>&nbsp;?<br />
<a href="#1.15">1.15</a>) Comment puis-je aider<br />
financi&egrave;rement PostgreSQL&nbsp;?</p>
<h3 align="center">Questions sur le client utilisateur</h3>
<p><a href="#2.1">2.1</a>) Y a-t-il des pilotes <small>ODBC</small></p>
<p>pour PostgreSQL&nbsp;?<br />
<a href="#2.2">2.2</a>) Quels outils sont disponibles pour utiliser<br />
PostgreSQL avec des pages Web&nbsp;?<br />
<a href="#2.3">2.3</a>) PostgreSQL a-t-il une interface<br />
graphique&nbsp;?<br />
<a href="#2.4">2.4</a>) Quels langages sont disponibles pour<br />
communiquer avec PostgreSQL&nbsp;?</p>
<h3 align="center">Questions administratives</h3>
<p><a href="#3.1">3.1</a>) Comment installer PostgreSQL ailleurs que<br />
sous <i>/usr/local/pgsql</i>&nbsp;?<br />
<a href="#3.2">3.2</a>) Quand je lance <i>postmaster</i>, j'obtiens<br />
un <i>Bad System Call</i> ou un message <i>core dumped</i>.<br />
Pourquoi&nbsp;?<br />
<a href="#3.3">3.3</a>) Quand je lance <i>postmaster</i>, j'obtiens<br />
des erreurs <i>IpcMemoryCreate</i>. Pourquoi&nbsp;?</p>
<p><a href="#3.4">3.4</a>) Quand je lance <i>postmaster</i>, j'obtiens<br />
des erreurs <i>IpcSemaphoreCreate</i>. Pourquoi&nbsp;?<br />
<a href="#3.5">3.5</a>) Comment contr&ocirc;ler les connexions<br />
d'autres machines&nbsp;?<br />
<a href="#3.6">3.6</a>) Comment r&egrave;gler le moteur de la base<br />
de donn&eacute;es pour de meilleures performances&nbsp;?</p>
<p><a href="#3.7">3.7</a>) Quelles fonctionalit&eacute;s de<br />
d&eacute;boguage sont disponibles&nbsp;?<br />
<a href="#3.8">3.8</a>) Pourquoi est-ce que j'obtiens des messages<br />
<i>Sorry, too many clients</i> quand je me connecte&nbsp;?<br />
<a href="#3.9">3.9</a>) Que contient le r&eacute;pertoire<br />
<i>pgsql_tmp</i>&nbsp;?</p>
<p><a href="#3.10">3.10</a>) Pourquoi ai-je besoin de faire une<br />
sauvegarde des bases et de restaurer pour mettre a jour les<br />
versions de PostgreSQL&nbsp;?<br />
<a href="#3.11">3.11</a>) Quels mat&eacute;riels dois-je<br />
utiliser&nbsp;?</p>
<h3 align="center">Questions fonctionnelles</h3>
<p><a href="#4.1">4.1</a>) Quelle est la diff&eacute;rence entre<br />
curseur binaire et curseur normal&nbsp;?<br />
<a href="#4.2">4.2</a>) Comment faire un <small>SELECT</small></p>
<p>seulement sur les premi&egrave;res lignes d'une<br />
requ&ecirc;te&nbsp;? Sur une ligne al&eacute;atoire&nbsp;?<br />
<a href="#4.3">4.3</a>) Comment obtenir une liste des tables ou<br />
d'autres choses que je vois dans <i>psql</i>&nbsp;?<br />
<a href="#4.4">4.4</a>) Comment supprime-t-on une colonne d'une<br />
table, ou comment change-t-on son type de<br />
donn&eacute;es&nbsp;?</p>
<p><a href="#4.5">4.5</a>) Quelle est la taille maximale pour une<br />
ligne, une table et une base de donn&eacute;es&nbsp;?<br />
<a href="#4.6">4.6</a>) Combien d'espace disque faut-il pour<br />
stocker les donn&eacute;es d'un fichier texte typique&nbsp;?<br />
<a href="#4.7">4.7</a>) Comment puis-je savoir quels index, tables,<br />
bases de donn&eacute;es et utilisateurs sont<br />
d&eacute;finis&nbsp;?<br />
<a href="#4.8">4.8</a>) Mes requ&ecirc;tes sont lentes ou ne font<br />
pas usage des index. Pourquoi&nbsp;?</p>
<p><a href="#4.9">4.9</a>) Comment puis-je savoir si l'optimiseur<br />
&eacute;value mes requ&ecirc;tes&nbsp;?<br />
<a href="#4.10">4.10</a>) Qu'est-ce qu'un index R-tree&nbsp;?<br />
<a href="#4.11">4.11</a>) Qu'est-ce que l'optimiseur<br />
g&eacute;n&eacute;tique de requ&ecirc;tes&nbsp;?</p>
<p><a href="#4.12">4.12</a>) Comment puis-je r&eacute;aliser des<br />
recherches par des expressions rationnelles ainsi que des<br />
recherches non sensibles &agrave; la casse&nbsp;? Comment puis-je<br />
utiliser un index lors de recherches non sensibles &agrave; la<br />
casse&nbsp;?<br />
<a href="#4.13">4.13</a>) Comment puis-je d&eacute;tecter si un<br />
champ est <small>NULL</small> dans une requ&ecirc;te&nbsp;?</p>
<p><a href="#4.14">4.14</a>) Quelle sont les diff&eacute;rences entre<br />
les nombreux types de caract&egrave;res&nbsp;?<br />
<a href="#4.15.1">4.15.1</a>) Comment puis-je cr&eacute;er un champ<br />
s&eacute;rie, c'est-&agrave;-dire s'incr&eacute;mentant<br />
automatiquement&nbsp;?<br />
<a href="#4.15.2">4.15.2</a>) Comment puis-je obtenir la valeur<br />
d'un <small>SERIAL</small> suite &agrave; une<br />
insertion&nbsp;?</p>
<p><a href="#4.15.3">4.15.3</a>) Est-ce que <i>currval()</i> et<br />
<i>nextval()</i> n'am&egrave;nent pas des probl&egrave;mes lorsque<br />
plusieurs utilisateurs les lancent en m&ecirc;me temps&nbsp;?<br />
<a href="#4.15.4">4.15.4</a>) Pourquoi mes num&eacute;ros de<br />
s&eacute;quences ne sont pas r&eacute;-utilis&eacute;s lors d'une<br />
annulation de transaction&nbsp;? Pourquoi existe-t'il des trous<br />
dans la num&eacute;rotation de ma colonne s&eacute;quentielle<br />
(SERIAL)&nbsp;?</p>
<p><a href="#4.16">4.16</a>) Qu'est-ce qu'un <small>OID</small>?<br />
Qu'est-ce qu'un <small>TID</small>&nbsp;?<br />
<a href="#4.17">4.17</a>) A quoi correspond certains termes<br />
utilis&eacute;s avec PostgreSQL&nbsp;?<br />
<a href="#4.18">4.18</a>) Pourquoi ai-je l'erreur <i>ERROR: Memory<br />
exhausted in AllocSetAlloc()</i>&nbsp;?</p>
<p><a href="#4.19">4.19</a>) Comment puis-je conna&icirc;tre la<br />
version de PostgreSQL que j'utilise&nbsp;?<br />
<a href="#4.20">4.20</a>) Pourquoi ai-je <i>invalid large obj<br />
descriptor</i> lors d'op&eacute;rations avec des gros<br />
objets&nbsp;?<br />
<a href="#4.21">4.21</a>) Comment puis-je cr&eacute;er une colonne<br />
qui aura par d&eacute;faut l'heure actuelle comme<br />
valeur&nbsp;?</p>
<p><a href="#4.22">4.22</a>) Pourquoi mes sous-requ&ecirc;tes<br />
utilisant <code><small>IN</small></code> sont-elles si<br />
lentes&nbsp;?<br />
<a href="#4.23">4.23</a>) Comment puis-je r&eacute;aliser une<br />
jointure externe&nbsp;?<br />
<a href="#4.24">4.24</a>) Comment puis-je lancer des requ&ecirc;tes<br />
utilisant plusieurs bases de donn&eacute;es&nbsp;??</p>
<p><a href="#4.25">4.25</a>) Comment puis-je renvoyer plusieurs lignes<br />
ou colonnes &agrave; partir d'une fonction&nbsp;?<br />
<a href="#4.26">4.26</a>) Why can't I reliably create/drop<br />
temporary tables in PL/PgSQL functions?<br />
<a href="#4.27">4.27</a>) Quelles options de replication sont<br />
disponibles&nbsp;?<br />
<a href="#4.28">4.28</a>) Quelles options de cryptage sont<br />
disponibles&nbsp;?</p>
<h3 align="center">Etendre PostgreSQL</h3>
<p><a href="#5.1">5.1</a>) J'ai &eacute;crit une fonction utilisateur.<br />
Lorsque je l'ex&eacute;cute avec <i>psql</i>, pourquoi cela<br />
finit-il avec un "dump core"&nbsp;?<br />
<a href="#5.2">5.2</a>) Comment puis-je contribuer avec de nouveaux<br />
types et fonctions pour PostgreSQL&nbsp;?<br />
<a href="#5.3">5.3</a>) Comment puis-je &eacute;crire une fonction<br />
C pour r&eacute;cup&eacute;rer une ligne&nbsp;?</p>
<p><a href="#5.4">5.4</a>) J'ai modifi&eacute; un fichier source.<br />
Pourquoi la modification n'est-elle pas visible apr&egrave;s la<br />
recompilation&nbsp;?<br />
<hr /></p>
<h3 align="center">Questions g&eacute;n&eacute;rales</h3>
<h4><a name="1.1">1.1</a>) Qu'est ce que PostgreSQL&nbsp;? Comment<br />
le prononcer&nbsp;?</h4>
<p>PostgreSQL se prononce <i>Post-Gres-Q-L</i>. Un fichier audio<br />
est disponible sur <a href="_br_/_http__/www.postgresql.org/postgresql.html">http://www.postgresql.org/postgresql.mp3</a><br />
pour ceux souhaitant entendre la prononciation.</p>
<p>PostgreSQL est une am&eacute;lioration du syst&egrave;me de<br />
gestion de bases de donn&eacute;es POSTGRES (et est toujours<br />
quelque fois appel&eacute; "Postgres"), un prototype de recherche<br />
de <small>SGBD</small> de prochaine g&eacute;n&eacute;ration.<br />
PostgreSQL garde le puissant mod&egrave;le de donn&eacute;es et les<br />
types de donn&eacute;es riches de POSTGRES, mais remplace le<br />
langage de requ&ecirc;tes PostQuel par un sous-ensemble</p>
<p>&eacute;tendu de <small>SQL</small>. PostgreSQL est gratuit et les<br />
sources complets sont disponibles.</p>
<p>PostgreSQL est &eacute;crit par une &eacute;quipe de<br />
d&eacute;veloppeurs qui sont tous inscrits &agrave; la liste de<br />
diffusion de d&eacute;veloppement de PostgreSQL. Le coordinateur<br />
actuel est Marc G. Fournier (<a href="_br_/_mailto_scrappy_PostgreSQL.html">scrappy@PostgreSQL.org</a> et voir<br />
la section <a href="#1.6">1.6</a> pour contacter les<br />
d&eacute;veloppeurs). Cette &eacute;quipe est responsable de tout<br />
le d&eacute;veloppement de PostgreSQL. C'est un projet soutenu par<br />
une communaut&eacute; sans &ecirc;tre contr&ocirc;l&eacute; par une<br />
soci&eacute;t&eacute;. Pour y contribuer, voir la FAQ des<br />
d&eacute;veloppeurs sur <a href="_br_/_http__/www.postgresql.org/docs/faqs/FAQ_DEV.html">http://www.postgresql.org/docs/faqs/FAQ_DEV.html</a>.</p>
<p>Les auteurs de PostgreSQL 1.01 &eacute;taient Andrew Yu et Jolly<br />
Chen. Beaucoup d'autres personnes ont contribu&eacute; au portage,<br />
aux tests, au d&eacute;boguage et &agrave; l'am&eacute;lioration du<br />
code. Le code de Postgres original, duquel PostgreSQL est<br />
d&eacute;riv&eacute;, &eacute;tait le fruit de l'effort de nombreux<br />
&eacute;tudiants dipl&ocirc;m&eacute;s et non<br />
dipl&ocirc;m&eacute;s, et de programmeurs travaillant sous la<br />
direction du Professeur Michael Stonebraker &agrave;</p>
<p>l'universit&eacute; de Californie, Berkeley.</p>
<p>Le nom original du logiciel &agrave; Berkeley &eacute;tait<br />
Postgres. Quand le <small>SQL</small> fut ajout&eacute; en 1995, le<br />
nom a d&ucirc; &ecirc;tre chang&eacute; en Postgres95. Fin 1996, le<br />
nom fut chang&eacute; en PostgreSQL.</p>
<h4><a name="1.2">1.2</a>) Quelle est la licence de<br />
PostgreSQL&nbsp;?</h4>
<p>PostgreSQL est distribu&eacute; sous la licence<br />
suivante&nbsp;:</p>
<p>PostgreSQL Data Base Management System</p>
<p>Portions copyright (c) 1996-2004, PostgreSQL Global Development<br />
Group Portions Copyright (c) 1994-6 Regents of the University of<br />
California</p>
<p>Permission to use, copy, modify, and distribute this software<br />
and its documentation for any purpose, without fee, and without a<br />
written agreement is hereby granted, provided that the above<br />
copyright notice and this paragraph and the following two<br />
paragraphs appear in all copies.</p>
<p>IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY<br />
PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL<br />
DAMAGES, INCLUDING LOST PROFITS, ARISING OUT OF THE USE OF THIS<br />
SOFTWARE AND ITS DOCUMENTATION, EVEN IF THE UNIVERSITY OF<br />
CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY<br />
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES<br />
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE<br />
SOFTWARE PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE<br />
UNIVERSITY OF CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE,<br />
SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.</p>
<p>La licence ci-dessus est la licence BSD, une licence open-source<br />
classique.</p>
<h4><a name="1.3">1.3</a>) Sous quels environnements Unix<br />
PostgreSQL tourne-t-il&nbsp;?</h4>
<p>En g&eacute;n&eacute;ral, tout environnement compatible Unix<br />
moderne devrait pouvoir faire fonctionner PostgreSQL. Les<br />
environnements qui ont &eacute;t&eacute; test&eacute;s<br />
explicitement sont list&eacute;s dans les instructions<br />
d'installation.</p>
<h4><a name="1.4">1.4</a>) Sous quels environnements non Unix<br />
PostgreSQL fonctionne-t'il&nbsp;?</h4>
<p><strong>Client</strong></p>
<p>Il est possible de compiler la biblioth&egrave;que C<br />
<i>libpq</i>, psql et d'autres interfaces et applications clientes<br />
pour qu'elles tournent sous des environnements MS Windows. Dans ce<br />
cas, le client tourne sous MS Windows et communique par TCP/IP avec<br />
un serveur tournant sous un environnement Unix support&eacute;. Un<br />
fichier <i>win32.mak</i> est inclus dans la distribution pour<br />
construire une biblioth&egrave;que <i>libpq</i> <i>psql</i> Win32.<br />
PostgreSQL communique aussi avec des clients</p>
<p><small>ODBC</small>.</p>
<p><strong>Serveur</strong></p>
<p>Le serveur de base de donn&eacute;es peut tourner sous Windows<br />
NT et Windows 2000 en utilisant Cygwin, la biblioth&egrave;que de<br />
portage Unix/NT de Cygnus. Voir <i>pgsql/doc/FAQ_MSWIN</i> dans la<br />
distribution ou la FAQ MS Windows sur <a href="_br_/_http__/www.PostgreSQL.org/docs/faqs/text/FAQ_MSWIN.html">http://www.PostgreSQL.org/docs/faqs/text/FAQ_MSWIN</a>.</p>
<p>Un port natif sur MS Windows NT/2000/XP est en court. Pour plus<br />
de d&eacute;tails sur le statut actuel de PostgreSQL sur Windows,<br />
voir <a href="_br_/_http__/techdocs.postgresql.org/guides/Windows.html">http://techdocs.postgresql.org/guides/Windows</a></p>
<p>et <a href="_br_/_http__/momjian.postgresql.org/main/writings/pgsql/win32.html">http://momjian.postgresql.org/main/writings/pgsql/win32.html</a>.</p>
<p>Il existe aussi un port sur Novell Netware sur <a href="_br_/_http__/forge.novell.html">http://forge.novell.com</a>.</p>
<h4><a name="1.5">1.5</a>) O&ugrave; puis-je me procurer<br />
PostgreSQL&nbsp;?</h4>
<p>Le site FTP anonyme principal de PostgreSQL est <a href="_br_/_ftp__/ftp.PostgreSQL.org/pub.html">ftp://ftp.PostgreSQL.org/pub</a>.<br />
Pour les sites miroirs, voir notre site web principal.</p>
<h4><a name="1.6">1.6</a>) O&ugrave; puis-je obtenir du<br />
support&nbsp;?</h4>
<p>La liste de diffusion principale est <a href="_br_/_mailto_pgsql-general_PostgreSQL.html">pgsql-general@PostgreSQL.org</a>.<br />
Elle est disponible pour discuter de sujets en rapport avec<br />
PostgreSQL. Pour s'y inscrire, il faut envoyer un courriel avec les<br />
lignes suivantes dans le corps du message (pas dans la ligne du<br />
sujet)&nbsp;:</p>
<pre>
    subscribe<br />
    end
</pre>
<p>&agrave; <a href="_br_/_mailto_pgsql-general-request_PostgreSQL.html">pgsql-general-request@PostgreSQL.org</a>.</p>
<p>Il existe aussi un recueil de la liste. Pour s'y inscrire,<br />
envoyez un courriel &agrave; <a href="_br_/_mailto_pgsql-general-digest-request_PostgreSQL.html">pgsql-general-digest-request@PostgreSQL.org</a><br />
avec dans le corps :</p>
<pre>
    subscribe<br />
    end
</pre>
<p>Les recueils sont envoy&eacute;s aux membres de cette liste<br />
d&egrave;s que la liste principale a re&ccedil;u 30 Ko de messages.
<p>Une liste de diffusion de bogues est disponible. Pour s'y<br />
inscrire, envoyer un courriel &agrave; <a href="_br_/_mailto_pgsql-bugs-request_PostgreSQL.html">pgsql-bugs-request@PostgreSQL.org</a></p>
<p>avec dans le corps :</p>
<pre>
    subscribe<br />
    end
</pre>
<p>Une liste de diffusion pour les d&eacute;veloppeurs est aussi<br />
disponible. Pour s'y inscrire, envoyez un courriel &agrave;<br />
<a href="mailto:pgsql-hackers-request@PostgreSQL.org">pgsql-hackers-request@PostgreSQL.org</a><br />
avec dans le corps :</p>
<pre>
    subscribe<br />
    end
</pre>
<p>Vous pouvez trouver d'autres listes et informations sur<br />
PostgreSQL sur le site web de PostgreSQL :</p>
<blockquote><p><a href="_br_/_http__/www.PostgreSQL.html">http://www.PostgreSQL.org</a></p></blockquote>
<p>Il y a aussi un canal IRC sur Freenode et EFNet, le canal<br />
<i>#PostgreSQL</i>. Vous pouvez utiliser la commande Unix <code>irc<br />
-c '#PostgreSQL' "$USER" irc.phoenix.net</code> ou <code>irc -c<br />
'#PostgreSQL' "$USER" irc.freenode.net</code>.</p>
<p>Une liste de soci&eacute;t&eacute;s pouvant fournir un support<br />
commercial est disponible sur <a href="_br_/_http__/techdocs.postgresql.org/companies.html">http://techdocs.postgresql.org/companies.php</a>.</p>
<h4><a name="1.7">1.7</a>) Quelle est la derni&egrave;re version<br />
?</h4>
<p>La derni&egrave;re version de PostgreSQL est la version<br />
7.4.3.</p>
<p>Nous projetons de sortir une version majeure tous les six<br />
&agrave; huit mois.</p>
<h4><a name="1.8">1.8</a>) Quelle documentation est disponible<br />
?</h4>
<p>Plusieurs manuels, pages de manuel ainsi que des petits exemples<br />
de test sont inclus dans la distribution. Voir le r&eacute;pertoire<br />
<i>/doc</i>. Vous pouvez aussi acc&eacute;der aux manuels en ligne<br />
sur <a href="_br_/_http__/www.PostgreSQL.org/docs.html">http://www.PostgreSQL.org/docs</a>.</p>
<p>Deux livres sur PostgreSQL sont disponibles en ligne sur<br />
<a href="http://www.postgresql.org/docs/awbook.html">http://www.PostgreSQL.org/docs/awbook.html</a><br />
et <a href="_br_/_http__/www.commandprompt.com/ppbook/index.html">http://www.commandprompt.com/ppbook/</a>.<br />
Il y a une liste de livres sur PostgreSQL pouvant &ecirc;tre<br />
achet&eacute;s sur <a href="_br_/_http__/techdocs.postgresql.org/techdocs/bookreviews.html">http://techdocs.PostgreSQL.org/techdocs/bookreviews.php</a>.<br />
Il y a aussi une collection d'articles techniques sur PostgreSQL<br />
sur <a href="_br_/_http__/techdocs.PostgreSQL.org/index.html">http://techdocs.PostgreSQL.org/</a>.</p>
<p><i>psql</i> poss&egrave;de des commandes \d pratiques montrant<br />
des informations sur les types, op&eacute;rateurs, fonctions,<br />
aggr&eacute;gats, etc.</p>
<p>Notre site web contient encore plus de documentations.</p>
<h4><a name="1.9">1.9</a>) Comment savoir quels sont les bogues<br />
connus ou les fonctionnalit&eacute;s manquantes ?</h4>
<p>PostgreSQL supporte un sous-ensemble &eacute;tendu de<br />
<small>SQL</small>-92. Voir notre liste <a href="_br_/_http__/developer.PostgreSQL.org/todo.html">TODO</a> pour les bogues<br />
connus, les fonctionnalit&eacute;s manquantes et les plans pour le<br />
futur.</p>
<h4><a name="1.10">1.10</a>) Comment puis-je apprendre le</p>
<p><small>SQL</small> ?</h4>
<p>Le livre PostgreSQL sur <a href="_br_/_http__/www.PostgreSQL.org/docs/awbook.html">http://www.PostgreSQL.org/docs/awbook.html</a><br />
enseigne le <small>SQL</small>. Il existe un autre livre PostgreSQL<br />
sur <a href="_br_/_http__/www.commandprompt.com/ppbook/index.html">http://www.commandprompt.com/ppbook.</a><br />
Il existe de bons tutoriels sur <a href="_br_/_http__/www.intermedia.net/support/sql/sqltut.html">http://www.intermedia.net/support/sql/sqltut.shtm,</a><br />
<a href="_br_/_http__/ourworld.compuserve.com/homepages/graeme_birchall/HTM_COOK.html"><br />
http://ourworld.compuserve.com/homepages/graeme_birchall/HTM_COOK.HTM</a></p>
<p>et <a href="http://sqlcourse.com/">http://sqlcourse.com.</a></p>
<p>Un autre (en anglais uniquement) "Teach Yourself SQL in 21 Days,<br />
Second Edition" se trouve sur <a href="_br_/_http__/members.tripod.com/er4ebus/sql/index.html">http://members.tripod.com/er4ebus/sql/index.htm</a></p>
<p>Nombre de nos utilisateurs aiment <i>The Practical SQL<br />
Handbook</i>, Bowman, Judith S., et al., Addison-Wesley. D'autres<br />
aiment <i>The Complete Reference SQL</i>, Groff et al.,<br />
McGraw-Hill.</p>
<h4><a name="1.11">1.11</a>) PostgreSQL est-il compatible an 2000<br />
?</h4>
<p>Oui, nous manipulons facilement les dates apr&egrave;s et avant<br />
l'an 2000.</p>
<h4><a name="1.12">1.12</a>) Comment puis-je rejoindre<br />
l'&eacute;quipe de d&eacute;veloppement ?</h4>
<p>Tout d'abord, t&eacute;l&eacute;chargez les derniers sources et<br />
lisez la documentation pour les d&eacute;veloppeurs sur notre site<br />
web ou bien dans la distribution. Ensuite, inscrivez-vous aux<br />
listes de diffusion <i>pgsql-hackers</i> et <i>pgsql-patches</i>.<br />
Et pour finir, soumettez des correctifs de grande qualit&eacute;<br />
sur <i>pgsql-patches</i>.</p>
<p>Environ une douzaine de personnes ont des droits de modification<br />
sur l'archive <small>CVS</small> de PostgreSQL. Ils ont chacun<br />
soumis tellement de correctifs de qualit&eacute; qu'il &eacute;tait<br />
devenu impossible aux d&eacute;veloppeurs de tenir la cadence et<br />
nous avions confiance dans le qualit&eacute; des correctifs qu'ils<br />
soumettaient.</p>
<h4><a name="1.13">1.13</a>) Comment dois-je soumettre un rapport<br />
de bogue ?</h4>
<p>Merci de visiter la page PostgreSQL BugTool sur <a href="_br_/_http__/www.PostgreSQL.org/bugs/bugs.html">http://www.PostgreSQL.org/bugs/bugs.php</a>,<br />
qui donne des indications sur la fa&ccedil;on de soumettre un<br />
rapport de bogue.</p>
<p>De m&ecirc;me, v&eacute;rifiez notre site ftp <a href="_br_/_ftp__/ftp.PostgreSQL.org/pub.html">ftp://ftp.PostgreSQL.org/pub</a><br />
pour voir s'il existe une version PostgreSQL plus r&eacute;cente ou<br />
des correctifs.</p>
<h4><a name="1.14">1.14</a>) Comment PostgreSQL se compare-til<br />
&agrave; d'autres <small>SGBD</small> ?</h4>
<p>Il y a plusieurs mani&egrave;res de mesurer un logiciel : les<br />
fonctionnalit&eacute;s, les performances, la fiabilit&eacute;, le<br />
support, et le prix.</p>
<p><dl>
<dt><b>Fonctionnalit&eacute;s</b></dt>
<dd>PostgreSQL poss&egrave;de la plupart des fonctionnalit&eacute;s<br />
pr&eacute;sentes dans les <small>SGBD</small> commerciaux, comme<br />
les transactions, les requ&ecirc;tes imbriqu&eacute;es, les<br />
d&eacute;clencheurs, les vues, l'int&eacute;grit&eacute;<br />
r&eacute;f&eacute;rentielle par cl&eacute;s</p>
<p>&eacute;trang&egrave;res, et le verrouillage sophistiqu&eacute;.<br />
Nous avons des fonctionnalit&eacute;s qu'ils n'ont pas, comme les<br />
types d&eacute;finis par l'utilisateur, l'h&eacute;ritage, les<br />
r&egrave;gles, et le contr&ocirc;le de concurrence par<br />
multi-versionnage pour r&eacute;duire les contentions de<br />
verrouillage.</p>
<p></dd>
<dt><b>Performances</b></dt>
<dd>PostgreSQL a des performances similaires aux autres bases de<br />
donn&eacute;es commerciales et open source. Il est plus rapide pour<br />
certaines op&eacute;rations, plus lent pour d'autres. Par rapport<br />
&agrave; MySQL ou d'autres <small>SGBD</small> plus l&eacute;ger,<br />
nous sommes plus rapides pour de nombreux utilisateurs, des<br />
requ&ecirc;tes complexes et une charge pour les requ&ecirc;tes de<br />
lecture/&eacute;criture. MySQL est plus rapide pour des<br />
requ&ecirc;tes SELECT simples effectu&eacute;es par quelques<br />
utilisateurs. Bien s&ucirc;r, MySQL ne poss&egrave;de aucune des<br />
fonctionnalit&eacute;s de la section <i>Fonctionnalit&eacute;s</i></p>
<p>ci-dessus. PostgreSQL est construit pour la fiabilit&eacute; et les<br />
fonctionnalit&eacute;s et nous continuons &agrave; am&eacute;liorer<br />
les performances &agrave; chaque version. Il y a une page web<br />
int&eacute;ressante qui compare PostgreSQL &agrave; MySQL sur<br />
<a href="_br_/_http__/openacs.org/philosophy/why-not-mysql.html">http://openacs.org/philosophy/why-not-mysql.html</a>.<br />
De plus, MySQL est une soci&eacute;t&eacute; qui distribue son<br />
produit via l'open source et requiert une licence commerciale pour<br />
les logiciels propri&eacute;taires, donc pas une communaut&eacute;</p>
<p>de d&eacute;veloppement open source comme PostgreSQL.</p>
<p></dd>
<dt><b>Fiabilit&eacute;</b></dt>
<dd>Nous somme conscients qu'un <small>SGBD</small> doit &ecirc;tre<br />
fiable ou bien il est inutile. Nous faisons le maximum pour sortir<br />
des versions bien test&eacute;es, du code stable ne contenant qu'un<br />
minimum de bogues. Chaque version a au moins un mois de tests, et<br />
notre historique de versions montre que nous pouvons fournir des<br />
versions stables et robustes, pr&ecirc;tes pour une utilisation en<br />
environnement de production. Nous pensons que nous nous comparons<br />
favorablement aux autres bases de donn&eacute;es dans ce<br />
domaine.</p>
<p></dd>
<dt><b>Support</b></dt></p>
<p><dd>Nos listes de diffusion offrent un contact avec un large groupe<br />
de d&eacute;veloppeurs et d'utilisateurs afin d'aider &agrave; la<br />
r&eacute;solution des probl&egrave;mes rencontr&eacute;s. Nous ne<br />
pouvons garantir un correctif mais les <small>SGBD</small><br />
commerciaux ne le garantissent pas toujours non plus.<br />
L'acc&egrave;s direct aux d&eacute;veloppeurs, &agrave; la<br />
communaut&eacute; d'utilisateurs, aux manuels, et au code source,<br />
fait du support pour PostgreSQL un support sup&eacute;rieur aux<br />
autres <small>SGBD</small>. Un support commercial par incident est<br />
disponible pour ceux qui en ont le besoin (voir la <a href="_br_/_.html#1.6">section 1.6 de la FAQ</a>).</p>
<p></dd>
<dt><b>Prix</b></dt>
<dd>Nous sommes gratuits pour tous les usages, commerciaux et non<br />
commerciaux. Vous pouvez inclure notre code dans vos produits sans<br />
limitation, except&eacute;es celles cit&eacute;es dans notre<br />
licence de type BSD donn&eacute;e plus haut.</p>
<p></dd>
</dl></p>
<h4><a name="1.15">1.15</a>) Comment puis-je aider<br />
financi&egrave;rement PostgreSQL ?</h4>
<p>PostgreSQL poss&egrave;de une infrastructure de premi&egrave;re<br />
classe depuis le d&eacute;but en 1996. Ceci gr&acirc;ce &agrave;</p>
<p>Marc Fournier, qui a cr&eacute;&eacute; et g&eacute;r&eacute; cette<br />
infrastructure des ann&eacute;es durant.</p>
<p>Une infrastructure de qualit&eacute; est importante pour un<br />
projet open-source. Cela permet d'emp&ecirc;cher<br />
l'&eacute;parpillement qui ralentirait beaucoup l'avancement du<br />
projet.</p>
<p>Bien s&ucirc;r, cette infrastructure n'est pas donn&eacute;e.<br />
Elle requiert un certain nombre de d&eacute;penses mensuelles ou<br />
ponctuelles. Si vous ou votre soci&eacute;t&eacute; peut donner de<br />
l'argent pour soutenir cet effort, merci de consulter la page web</p>
<p><a href="_br_/_http__/store.pgsql.com/shopping/index.html">http://store.pgsql.com/shopping/</a><br />
et de faire une donation.</p>
<p>Bien que la page web mentionne PostgreSQL, Inc, les<br />
contributions sont exclusivement utilis&eacute;es pour soutenir le<br />
projet PostgreSQL et ne soutiennent aucune soci&eacute;t&eacute;<br />
que ce soit. Si vous le pr&eacute;f&eacute;rez, vous pouvez aussi<br />
envoyer un ch&egrave;que &agrave; l'adresse de contact.</p>
<hr />
<p>De plus, si vous avez une histoire de succ&egrave;s avec<br />
PostgreSQL, merci de la soumettre &agrave; notre site<br />
d'&eacute;vang&eacute;lisation sur <a href="_br_/_http__/advocacy.postgresql.html">http://advocacy.postgresql.org</a>.</p>
<h3 align="center">Questions sur le client utilisateur</h3>
<h4><a name="2.1">2.1</a>) Existe-t'il des pilotes<br />
<small>ODBC</small> pour PostgreSQL ?</h4>
<p>Il y a deux pilotes <small>ODBC</small> disponibles, PsqlODBC et<br />
OpenLink <small>ODBC</small>.</p>
<p>Vous pouvez t&eacute;l&eacute;charger PsqlOBDC depuis <a href="_br_/_http__/gborg.postgresql.org/project/psqlodbc/projdisplay.html">http://gborg.postgresql.org/project/psqlodbc/projdisplay.php</a>.</p>
<p>OpenLink <small>ODBC</small> peut &ecirc;tre obtenu depuis<br />
<a href="http://www.openlinksw.com/">http://www.openlinksw.com</a>.<br />
Il fonctionne avec leur logiciel client <small>ODBC</small><br />
standard, vous aurez donc PostgreSQL <small>ODBC</small> sur toutes<br />
les plateformes client qu'ils supportent (Win, Mac, Unix, VMS).</p>
<p>Ils vendront probablement ce produit aux gens qui recherchent<br />
une qualit&eacute; de support professionnelle mais une version<br />
freeware sera toujours disponible. Merci d'envoyer vos questions</p>
<p>&agrave; <a href="_br_/_mailto_postgres95_openlink.co.html">postgres95@openlink.co.uk</a>.</p>
<h4><a name="2.2">2.2</a>) Quels outils sont disponibles pour<br />
utiliser PostgreSQL avec des pages Web ?</h4>
<p>Une bonne introduction aux pages Web adoss&eacute;s &agrave; une<br />
base de donn&eacute;es se trouve &agrave; <a href="_br_/_http__/www.webreview.html">http://www.webreview.com</a></p>
<p>Pour l'int&eacute;gration Web, PHP est une excellente interface.<br />
Elle se trouve &agrave; <a href="_br_/_http__/www.php.html">http://www.php.net</a>.</p>
<p>Pour les cas complexes, beaucoup utilisent l'interface Perl et<br />
CGI.pm ou mod_perl.</p>
<h4><a name="2.3">2.3</a>) PostgreSQL a-t-il une interface<br />
graphique ?</h4>
<p>Oui, il y a plusieurs interfaces graphiques disponibles pour<br />
PostgreSQL, dont PgAccess <a href="_br_/_http__/www.pgaccess.html">http://www.pgaccess.org</a>), PgAdmin III<br />
(<a href="http://www.pgadmin.org/">http://www.pgadmin.org</a>), RHDB<br />
Admin (<a href="_br_/_http__/sources.redhat.com/rhdb/index.html">http://sources.redhat.com/rhdb/</a><br />
et Rekall ( <a href="_br_/_http__/www.thekompany.com/products/rekall/index.html">http://www.thekompany.com/products/rekall/</a>,<br />
propri&eacute;taire). Il y a aussi PhpPgAdmin ( <a href="_br_/_http__/phppgadmin.sourceforge.net/index.html">http://phppgadmin.sourceforge.net/</a></p>
<p>), une interface Web pour PostgreSQL.</p>
<p>Voir <a href="_br_/_http__/techdocs.postgresql.org/guides/GUITools.html">http://techdocs.postgresql.org/guides/GUITools</a><br />
pour une liste plus d&eacute;taill&eacute;e.</p>
<h4><a name="2.4">2.4</a>) Quels langages sont disponibles pour<br />
communiquer avec PostgreSQL ?</h4>
<p>La plupart des langages de programmation couramment<br />
utilis&eacute;s ont une interface pour PostgreSQL. V&eacute;rifiez<br />
la liste des modules de votre langage.</p>
<p>Les interfaces ci-dessous sont incluses dans la distribution<br />
:</p>
<ul>
<li>C (libpq)</li>
<li>Embedded C (ecpg)</li>
<li>Java (jdbc)</li>
<li>Python (PyGreSQL)</li>
<li>TCL (libpgtcl)</li>
</ul>
<p>Interfaces suppl&eacute;mentaires disponibles sur <a href="_br_/_http__/gborg.postgresql.html">http://gborg.postgresql.org</a> dans<br />
la section <i>Drivers/Interfaces</i></p>
<p><hr /></p>
<h3 align="center">Questions Administratives</h3>
<h4><a name="3.1">3.1</a>) Comment installer PostgreSQL ailleurs<br />
que sous <i>/usr/local/pgsql</i> ?</h4>
<p>Il faut sp&eacute;cifier l'option <i>--prefix</i> lors du<br />
lancement de <i>configure</i>.</p>
<h4><a name="3.2">3.2</a>) Quand je lance <i>postmaster</i>,<br />
j'obtiens un <i>Bad System Call</i> ou un message <i>core<br />
dumped</i> . Pourquoi ?</h4>
<p>Cela peut &ecirc;tre d&ucirc; &agrave; une vari&eacute;t&eacute;</p>
<p>de probl&egrave;mes mais v&eacute;rifiez d'abord que vous avez les<br />
extensions System V install&eacute;es pour votre noyau. PostgreSQL<br />
n&eacute;cessite le support noyau pour la m&eacute;moire<br />
partag&eacute;e et les s&eacute;maphores.</p>
<h4><a name="3.3">3.3</a>) Quand je lance <i>postmaster</i>,<br />
j'obtiens des erreurs <i>IpcMemoryCreate</i>. Pourquoi ?</h4>
<p>Soit vous n'avez pas configur&eacute; correctement la<br />
m&eacute;moire partag&eacute;e dans votre noyau, soit vous devez<br />
augmenter la m&eacute;moire partag&eacute;e disponible dans le<br />
noyau. Le montant exact dont vous avez besoin d&eacute;pend de<br />
votre architecture et du nombre de tampons et de processus que vous<br />
avez configur&eacute; pour <i>postmaster</i>. Pour la plupart des<br />
syst&egrave;mes avec un nombre par d&eacute;faut de tampons et de<br />
processus, vous aurez besoin d'un minimum d'environ 1 Mo. Voir le<br />
chapitre <a href="_br_/_http__/www.PostgreSQL.org/docs/viewfe3c.html?version=current&amp;idoc=1&amp;file=kernel-resources.html"></p>
<p>Administration du manuel PostgreSQL</a> pour des informations plus<br />
d&eacute;taill&eacute;es sur la m&eacute;moire partag&eacute;e et<br />
les s&eacute;maphores.</p>
<h4><a name="3.4">3.4</a>) Quand je lance <i>postmaster</i>,<br />
j'obtiens des erreurs <i>IpcSemaphoreCreate</i>. Pourquoi ?</h4>
<p>Si le message d'erreur est <i>IpcSemaphoreCreate: semget failed<br />
(No space left on device)</i> alors votre noyau n'est pas<br />
configur&eacute; avec suffisamment de s&eacute;maphores. PostgreSQL<br />
a besoin d'un s&eacute;maphore par processus serveur potentiel. Une<br />
solution provisoire est de lancer <i>postmaster</i> avec une plus<br />
petite limite sur le nombre de processus serveur. Utilisez l'option</p>
<p><i>-N</i> avec un param&egrave;tre inf&eacute;rieur au choix par<br />
d&eacute;faut de 32. Une solution permanente est d'augmenter les<br />
param&egrave;tres <small>SEMMNS</small> et <small>SEMMNI</small> de<br />
votre noyau.</p>
<p>Des s&eacute;maphores inop&eacute;rantes peuvent aussi provoquer<br />
des plantages pendant de gros acc&egrave;s &agrave; la base de<br />
donn&eacute;es.</p>
<p>Si le message d'erreur est autre chose, vous n'avez<br />
peut-&ecirc;tre pas du tout le support des s&eacute;maphores dans<br />
votre noyau. Voir le chapitre <a href="_br_/_http__/www.PostgreSQL.org/docs/viewfe3c.html?version=current&amp;idoc=1&amp;file=kernel-resources.html"><br />
Administration du manuel PostgreSQL</a> pour des informations plus<br />
d&eacute;taill&eacute;es sur la m&eacute;moire partag&eacute;e et<br />
les s&eacute;maphores.</p>
<h4><a name="3.5">3.5</a>) Comment contr&ocirc;ler les connexions<br />
d'autres machines ?</h4>
<p>Par d&eacute;faut, PostgreSQL n'autorise que les connexions de<br />
la machine locale utilisant les sockets de domaine Unix. D'autres<br />
machines ne seront pas capables de se connecter sauf si vous<br />
configurez tcpip_sockets dans <i>postgresql.conf</i> <b>et</b><br />
activez l'authentification bas&eacute;e sur l'h&ocirc;te en<br />
modifiant le fichier <i>$PGDATA/pg_hba.conf</i> en<br />
cons&eacute;quence. Ceci autorisera les connexions TCP/IP.</p>
<h4><a name="3.6">3.6</a>) Comment r&eacute;gler le moteur de la<br />
base de donn&eacute;es pour de meilleures performances ?</h4>
<p>Des index acc&eacute;l&eacute;reront les requ&ecirc;tes. La<br />
commande <small>EXPLAIN ANALYZE</small> vous permet de voir comment<br />
PostgreSQL traite votre requ&ecirc;te et quels index sont<br />
utilis&eacute;s.</p>
<p>Si vous faites beaucoup d'insertions (instruction<br />
<small>INSERT</small>), envisagez de les faire en une fois en<br />
utilisant la commande <small>COPY</small>. Ceci est plus rapide que<br />
des commandes <small>INSERTS</small> individuelles.<br />
Deuxi&egrave;ment, les requ&ecirc;tes qui ne sont pas dans des<br />
blocs de transaction <small>BEGIN WORK/COMMIT</small> sont<br />
consid&eacute;r&eacute;s comme &eacute;tant dans leur propre<br />
transaction. Envisagez de faire plusieurs instructions dans un seul<br />
bloc de transaction. Ceci r&eacute;duira la surcharge<br />
apport&eacute;e par les transactions. Aussi, envisagez d'abandonner<br />
et de recr&eacute;er des index lors de grosses modifications de<br />
donn&eacute;es.</p>
<p>Il y a plusieurs options d'optimisations. Vous pouvez<br />
d&eacute;sactiver <i>fsync()</i> en lan&ccedil;ant<br />
<i>postmaster</i> avec l'option <i>-o -F</i>. Ceci emp&ecirc;chera<br />
les <i>fsync()</i>s d'&eacute;crire sur disque apr&egrave;s toute<br />
transaction.</p>
<p>Vous pouvez utiliser l'option <i>-B</i> de <i>postmaster</i><br />
pour augmenter le nombre de tampons de m&eacute;moire<br />
partag&eacute;e utilis&eacute;s par les processus serveurs. Si vous<br />
fixez ce param&egrave;tre trop haut, <i>postmaster</i> ne se<br />
lancera pas car vous avez d&eacute;pass&eacute; la limite de votre<br />
noyau sur la quantit&eacute; de m&eacute;moire partag&eacute;e.<br />
Chaque tampon fait 8 Ko et le choix par d&eacute;faut est de 64<br />
tampons.</p>
<p>Vous pouvez utiliser l'option serveur <i>-S</i> pour augmenter<br />
la quantit&eacute; maximale de m&eacute;moire utilis&eacute;e par<br />
les processus serveurs pour des tris temporaires. La valeur de<br />
<i>-S</i> est mesur&eacute; en kilooctets et le choix par<br />
d&eacute;faut est de 512 (c'est-&agrave;-dire 512 Ko).</p>
<p>Vous pouvez utiliser la commande <small>CLUSTER</small> pour<br />
regrouper vos donn&eacute;es en tables pour correspondre &agrave;</p>
<p>un index. Voir la page de manual <small>CLUSTER</small> pour plus<br />
de d&eacute;tails.</p>
<h4><a name="3.7">3.7</a>) Quelles fonctionalit&eacute;s de<br />
d&eacute;boguage sont disponibles ?</h4>
<p>PostgreSQL a plusieurs fonctionalit&eacute;s qui permettent de<br />
recueillir des informations de statut qui peuvent &ecirc;tre utile<br />
pour des intentions de d&eacute;boguage.</p>
<p>D'abord, en lan&ccedil;ant <i>configure</i> avec l'option<br />
--enable-cassert, beaucoup d'<i>assert()</i>s surveillent le<br />
serveur et arr&ecirc;tent le programme quand quelque chose<br />
d'inattendu arrive.</p>
<p><i>Postmaster</i> et <i>postgres</i> ont tous deux plusieurs<br />
options de d&eacute;boguage de disponible. D'abord, quand vous<br />
lancez <i>postmaster</i>, v&eacute;rifiez que vous envoyez les<br />
sorties standard et d'erreur dans un fichier de traces comme :</p>
<pre>
    cd /usr/local/pgsql<br />
    ./bin/postmaster &gt;server.log 2&gt;&amp;1 &amp;</p>
</pre>
<p>Ceci va cr&eacute;er un fichier server.log dans le<br />
r&eacute;pertoire racine de PostgreSQL. Ce fichier contient des<br />
informations utiles sur les probl&egrave;mes ou erreurs<br />
rencontr&eacute;s par le serveur. <i>Postmaster</i> dispose d'une<br />
option <i>-d</i> qui permet de rapporter des informations encore<br />
plus d&eacute;taill&eacute;es d'&ecirc;tre rapport&eacute;es.<br />
L'option <i>-d</i> prend un num&eacute;ro qui sp&eacute;cifie le<br />
niveau de d&eacute;boguage. Faites attention au fait que des<br />
valeurs &eacute;l&eacute;v&eacute;es de niveau de d&eacute;boguage<br />
g&eacute;nerent des fichiers de traces volumineux.</p>
<p>Si <i>postmaster</i> ne tourne pas, vous pouvez lancer le<br />
serveur <i>postgres</i> de la ligne de commande et taper votre<br />
requ&ecirc;te <small>SQL</small> directement. Ceci est<br />
recommand&eacute; <b>seulement</b> pour des fonctions de<br />
d&eacute;boguage. Notez qu'un retour chariot termine la<br />
requ&ecirc;te, pas un point-virgule. Si vous compilez avec les<br />
symboles de d&eacute;boguage, vous pouvez utiliser un<br />
d&eacute;bogueur pour voir ce qui se passe. Parce que le serveur<br />
n'a pas &eacute;t&eacute; lanc&eacute; par <i>postmaster</i>, il ne<br />
tourne pas dans un environnement identique et les probl&egrave;mes<br />
d'interaction de verrouillage/serveur ne peuvent &ecirc;tre<br />
dupliqu&eacute;s.</p>
<p>Si <i>postmaster</i> est en train de tourner, lancez <i>psql</i><br />
dans une fen&ecirc;tre puis trouvez le <small>PID</small> du<br />
processus <i>postgres</i> utilis&eacute; par <i>psql</i>. Utilisez<br />
un d&eacute;bogueur pour l'attacher au <small>PID</small></p>
<p><i>postgres</i>. Vous pouvez mettre un point d'arr&ecirc;t dans le<br />
d&eacute;bogueur et envoyez des requ&ecirc;tes de <i>psql</i>. Si<br />
vous d&eacute;boguez le d&eacute;marrage de <i>postgres</i>, vous<br />
pouvez mettre PGOPTIONS="-W n", puis lancez <i>psql</i>. Ceci va<br />
retarder le d&eacute;marrage de <i>n</i> secondes pour que vous<br />
puissiez attacher un d&eacute;bogueur au processus, fixer des<br />
points d'arr&ecirc;t et continuer la s&eacute;quence de<br />
d&eacute;marrage.</p>
<p>Le programme <i>postgres</i> a les options <i>-s, -A</i> et<br />
<i>-t</i> qui peuvent &ecirc;tre utile pour des mesures de<br />
d&eacute;boguage et de performance.</p>
<p>Vous pouvez compiler avec les options de performance pour voir<br />
quelles fonctions prennent du temps d'ex&eacute;cution. Les<br />
fichiers de gestion du serveur seront d&eacute;pos&eacute;s dans le<br />
r&eacute;pertoire <i>pgsql/data/base/nom_db</i>. Les fichiers de<br />
gestion clients seront mis dans le r&eacute;pertoire actuel du<br />
client. Linux requiert une compilation avec <i>-DLINUX_PROFILE</i></p>
<p>pour une meilleure gestion.</p>
<h4><a name="3.8">3.8</a>) Pourquoi est-ce que j'obtiens des<br />
messages <i>Sorry, too many clients</i> quand je me connecte ?</h4>
<p>Vous pouvez augmenter la limite de <i>postmaster</i> sur le<br />
nombre de processus serveur concurrents qu'il peut lancer.</p>
<p>La limite par d&eacute;faut est de 32 processus. Vous pouvez<br />
l'augmenter en relan&ccedil;ant <i>postmaster</i> avec une valeur</p>
<p><i>-N</i> appropri&eacute;e ou en modifiant<br />
<i>postgresql.conf</i>.</p>
<p>Tenez compte du fait que si vous fixez <i>-N</i> plus grand que<br />
32, vous devez aussi augmenter <i>-B</i> au-dela de sa valeur par<br />
d&eacute;faut 64 ; <i>-B</i> doit valoir au moins deux fois</p>
<p><i>-N</i> et probablement plus pour une meilleure performance. Pour<br />
de grand nombres de processus serveurs vous aurez probablement<br />
aussi augmenter plusieurs parametres de configuration du noyau<br />
Unix. Les choses a v&eacute;rifier incluent la taille maximale des<br />
blocs de m&eacute;moire partag&eacute;e, <small>SHMMAX</small> ; le<br />
nombre maximal de s&eacute;maphores, <small>SEMMNS</small> et<br />
<small>SEMMNI</small> ; le nombre maximal de processus,<br />
<small>NPROC</small> ; le nombre maximal de processus par<br />
utilisateur, <small>MAXUPRC</small> ; et le nombre maximal de<br />
fichiers ouverts, <small>NFILE</small> et <small>NINODE</small>. La<br />
raison pour laquelle PostgreSQL a une limite sur le nombre de<br />
processus serveurs autoris&eacute;s est pour que votre<br />
syst&egrave;me ne tombe pas &agrave; court de ressources.</p>
<h4><a name="3.9">3.9</a>) Que contient le r&eacute;pertoire<br />
<i>pgsql_tmp</i> ?</h4>
<p>Ce r&eacute;pertoire contient des fichiers temporaires<br />
g&eacute;n&eacute;r&eacute;s par le moteur de requ&ecirc;te. Par<br />
exemple, si un tri doit &ecirc;tre fait pour satisfaire un<br />
<small>ORDER BY</small> et que ce tri requiert plus de place que le<br />
param&egrave;tre <i>-S</i> du serveur n'autorise, alors des<br />
fichiers temporaires seront cr&eacute;&eacute;s pour contenir les<br />
donn&eacute;es n&eacute;cessaires.</p>
<p>Les fichiers temporaires sont d'habitude effac&eacute;s<br />
automatiquement mais peuvent rester si un serveur s'arr&ecirc;te<br />
brutalement pendant un tri. Un arr&ecirc;t et un red&eacute;marrage<br />
de <i>postmaster</i> effacera les fichiers dans ces<br />
r&eacute;pertoires.</p>
<h4><a name="3.10">3.10</a>) Pourquoi est-ce que j'ai besoin de<br />
faire une sauvegarde des bases et de restaurer pour mettre a jour<br />
les versions de PostgreSQL ?</h4>
<p>L'&eacute;quipe PostgreSQL ne fait que des changements mineurs<br />
entre des versions mineurs, donc mettre &agrave; jour de 7.2 vers<br />
7.2.1 ne n&eacute;cessitera pas de sauvegarde et de restauration.<br />
Par contre, les sorties majeures (c'est-&agrave;-dire de 7.2 vers<br />
7.3) changent souvent le format interne des tables syst&egrave;mes<br />
et des fichiers de donn&eacute;es. Ces modifications sont souvent<br />
complexes alors nous ne gardons pas de compatibilit&eacute;</p>
<p>descendante pour les fichiers de donn&eacute;es. Une sauvegarde<br />
exportera les donn&eacute;es dans un format g&eacute;n&eacute;rique<br />
qui peut ensuite &ecirc;tre charg&eacute; dans le nouveau format<br />
interne.</p>
<p>Dans les sorties o&ugrave; le format sur disque ne change pas,<br />
le script <i>pg_upgrade</i> peut &ecirc;tre utilis&eacute; pour<br />
mettre &agrave; jour sans sauvegarde/restauration. Les notes de<br />
sorties pr&eacute;cisent si <i>pg_upgrade</i> est disponible pour<br />
la sortie.</p>
<h4><a name="3.11">3.11</a>) Quels mat&eacute;riels dois-je<br />
utiliser ?</h4>
<p>Comme le mat&eacute;riel PC est compatible en grosse partie, les<br />
gens ont tendance &agrave; croire que tous les mat&eacute;riels PC<br />
sont de m&ecirc;me qualit&eacute;. Ce n'est pas le cas. La RAM ECC,<br />
le SCSI et les cartes-m&egrave;re de qualit&eacute; sont plus<br />
fiables et ont de meilleurs performances qu'un mat&eacute;riel<br />
moins co&ucirc;teux. PostgreSQL fonctionnera sur &agrave; peu<br />
pr&egrave;s tout mat&eacute;riel mais si la fiabilit&eacute; et la<br />
performance sont importantes pour vous, il est rus&eacute; de bien<br />
consid&eacute;rer les options mat&eacute;rielles. Nos listes de<br />
diffusion peuvent &ecirc;tre utilis&eacute;es pour discuter des<br />
options mat&eacute;riels.</p>
<p><hr /></p>
<h3 align="center">Questions fonctionnelles</h3>
<h4><a name="4.1">4.1</a>) Quelle est la diff&eacute;rence entre<br />
curseur binaire et curseur normal ?</h4>
<p>Voir la page <small>DECLARE</small> du manuel pour une<br />
description.</p>
<h4><a name="4.2">4.2</a>) Comment faire un <small>SELECT</small><br />
seulement sur les premi&egrave;res lignes d'une requ&ecirc;te ? Sur<br />
une ligne al&eacute;atoire ?</h4>
<p>Voir la page <small>FETCH</small> du manuel ou utiliser<br />
<small>SELECT</small> ... <small>LIMIT</small>....</p>
<p>Il se peut que l'int&eacute;gralit&eacute; de la requ&ecirc;te<br />
doive &ecirc;tre &eacute;valu&eacute;e, m&ecirc;me si vous voulez<br />
seulement les premi&egrave;res lignes. Envisagez d'utiliser une<br />
requ&ecirc;te avec une clause <small>ORDER BY</small>. S'il existe<br />
un index correspondant &agrave; l'<small>ORDER BY</small>,<br />
PostgreSQL peut n'&eacute;valuer que les premi&egrave;res lignes,<br />
sinon l'int&eacute;gralit&eacute; de la requ&ecirc;te peut</p>
<p>&ecirc;tre &eacute;valu&eacute;e, jusqu'&agrave;<br />
g&eacute;n&eacute;rer les lignes d&eacute;sir&eacute;es.</p>
<p>Pour faire un <small>SELECT</small> sur une ligne<br />
al&eacute;atoire :</p>
<pre>
<p>    SELECT colonne<br />
    FROM table<br />
    ORDER BY random()<br />
    LIMIT 1;
</pre>
<h4><a name="4.3">4.3</a>) Comment obtenir une liste des tables ou<br />
d'autres objets que je vois dans <i>psql</i> ?</h4>
<p>Utilisez la commande \dt pour voir les tables dans <i>psql</i>.<br />
Pour une liste compl&egrave;te de commandes &agrave;<br />
l'int&eacute;rieur de psql, vous pouvez utiliser \?. Autrement,<br />
vous pouvez lire le code source de <i>psql</i> dans le fichier</p>
<p><i>pgsql/src/bin/psql/describe.c</i>. Il contient des commandes<br />
<small>SQL</small> qui g&eacute;n&egrave;rent le contenu des<br />
commandes anti-slash de psql. Vous pouvez aussi lancer <i>psql</i><br />
avec l'option <i>-E</i>, afin qu'il imprime les requ&ecirc;tes<br />
qu'il utilise pour ex&eacute;cuter les commandes que vous lui<br />
passez. PostgreSQL fournit aussi une interface d'informations sur<br />
le sch&eacute;ma compatible avec <i>SQLi</i> que vous pouvez<br />
interroger des informations sur la base de donn&eacute;es.</p>
<h4><a name="4.4">4.4</a>) Comment supprime-t-on une colonne d'une<br />
table, ou comment change-t-on son type de donn&eacute;es ?</h4>
<p>La fonction <small>DROP COLUMN</small> a &eacute;t&eacute;<br />
ajout&eacute;e dans la version 7.3 avec <small>ALTER TABLE DROP<br />
COLUMN</small>. Pour les versions pr&eacute;c&eacute;dentes, vous<br />
pouvez faire :</p>
<pre>
    BEGIN;<br />
    LOCK TABLE ancienne_table;<br />
    SELECT ...  -- s&eacute;lectionnez toutes les colonnes sauf celle &agrave; supprimer<br />
    INTO TABLE nouvelle_table<br />
    FROM ancienne_table;<br />
    DROP TABLE ancienne_table;<br />
    ALTER TABLE nouvelle_table RENAME TO ancienne_table;<br />
    COMMIT;
</pre>
<p>Pour changer le type de donn&eacute;es d'une colonne, faites<br />
:</p>
<pre>
    BEGIN;<br />
    ALTER TABLE table ADD COLUMN nouvelle_colonne <i>nouveau_type_de_donnees</i>;<br />
    UPDATE table SET nouvelle_colonne = CAST(ancienne_colonne AS <i>nouveau_type_de_donnees</i>);<br />
    ALTER TABLE table DROP COLUMN ancienne_colonne;<br />
    COMMIT;</p>
</pre>
<p>Apr&egrave;s, vous pouvez faire <i>VACUUM FULL tab</i> pour<br />
r&eacute;cup&eacute;rer l'espace disque utilis&eacute; par les<br />
lignes expir&eacute;es.</p>
<h4><a name="4.5">4.5</a>) Quelle est la taille maximale pour une<br />
ligne, une table, une base de donn&eacute;es ?</h4>
<p>Les limites sont :</p>
<pre>
    Taille maximum pour une base de donn&eacute;es     illimit&eacute;e (il existe des bases de 32 To)<br />
    Taille maximum pour une table               32 To<br />
    Taille maximum pour une ligne               1,6 To<br />
    Taille maximum pour un champ                1 Go<br />
    Nombre maximum de lignes dans une table     illimit&eacute;<br />
    Nombre maximum de colonnes dans une table   250-1600, selon le type de colonnes<br />
    Nombre maximum d'index sur une table        illimit&eacute;
</pre>
<p>Bien s&ucirc;r, ces valeurs ne sont pas vraiment<br />
illimit&eacute;e, elles sont limit&eacute;es par l'espace disque<br />
disponible, ainsi que par l'espace de m&eacute;moire et de swap.<br />
Les performances peuvent se d&eacute;grader si ces valeurs sont<br />
inhabituellement grandes.</p>
<p>La taille maximum des tables (32 To) ne n&eacute;cessite pas que<br />
le syst&egrave;me d'exploitation supporte les grands fichiers. Les<br />
grandes tables sont stock&eacute;es sous forme de fichiers<br />
multiples de 1 Go, donc les limites de taille du syst&egrave;me de<br />
fichier ne sont pas importantes.</p>
<p>La taille maximum des tables et le nombre maximum de colonnes<br />
peuvent &ecirc;tre quadripl&eacute;s, si la taille des blocs par<br />
d&eacute;faut est augment&eacute;e &agrave; 32 Ko.</p>
<h4><a name="4.6">4.6</a>) Combien d'espace disque faut-il pour<br />
stocker les donn&eacute;es d'un fichier texte typique ?</h4>
<p>Une base de donn&eacute;es PostgreSQL peut utiliser<br />
jusqu'&agrave; cinq fois l'espace n&eacute;cessaire pour stocker<br />
les donn&eacute;es d'un fichier texte.</p>
<p>A titre d'exemple, consid&eacute;rez un fichier de 100 000<br />
lignes, comportant un entier et une cha&icirc;ne de description sur<br />
chaque ligne. Supposons que la cha&icirc;ne soit longue en moyenne<br />
de 20 octets. Le fichier texte serait de 2,8 Mo. La taille du<br />
fichier d'une base de donn&eacute;es PostgreSQL peut &ecirc;tre<br />
estim&eacute;e &agrave; 6,4 Mo :</p>
<pre>
    36 octets: chaque ligne (approximation)<br />
    24 octets: un champ 'entier' et un champ 'texte'<br />
   + 4 octets: pointeur vers le tuple sur la page<br />
   ----------------------------------------<br />
    64 octets par ligne</p>
<p>   La taille des pages de donn&eacute;es dans PostgreSQL est de 8192 octets (8 KO), donc :</p>
<p>   8192 octets par page<br />
   ----------------------   = 128 lignes par page de base de donn&eacute;es (arrondi &agrave; l'entier inf&eacute;rieur)<br />
     64 octets par ligne</p>
<p>   100000 lignes de donn&eacute;es<br />
   -------------------------  =  782 pages de base de donn&eacute;es (arrondi &agrave; l'entier sup&eacute;rieur)<br />
      128 lignes par page</p>
<p>782 pages de base de donn&eacute;es * 8192 octets par page  =  6 406 144 octets (6,4 Mo)
</pre>
<p>Les index utilisent moins d'espace, mais ils contiennent les<br />
donn&eacute;es index&eacute;es, ils peuvent donc &eacute;galement</p>
<p>&ecirc;tre grands.</p>
<p>Les <small>NULL</small> sont stock&eacute;s sous forme de<br />
bitmap, aussi utilisent-ils tr&egrave;s peu d'espace.</p>
<h4><a name="4.7">4.7</a>) Comment puis-je savoir quels index,<br />
tables, bases de donn&eacute;es et utilisateurs sont d&eacute;finis<br />
?</h4>
<p><i>psql</i> dispose de plusieurs commandes commen&ccedil;ant par<br />
un anti-slash pour retrouver ces informations. Utilisez \? pour les<br />
conna&icirc;tre. Il existe aussi des tables syst&egrave;mes, qui<br />
commencent par <i>pg_</i> et qui les d&eacute;crivent</p>
<p>&eacute;galement. Aussi, <i>psql -l</i> liste toutes les bases de<br />
donn&eacute;es.</p>
<p>Essayez &eacute;galement le fichier<br />
<i>pgsql/src/tutorial/syscat.source</i>. Il illustre un grand<br />
nombre de commandes <small>SELECT</small> n&eacute;cessaires pour<br />
r&eacute;cup&eacute;rer l'information des tables syst&egrave;me de<br />
la base de donn&eacute;es.</p>
<h4><a name="4.8">4.8</a>) Mes requ&ecirc;tes sont lentes ou ne<br />
font pas usage des index. Pourquoi ?</h4>
<p>Les index ne sont pas automatiquement utilis&eacute;s par chaque<br />
requ&ecirc;te. Ils sont utilis&eacute;s uniquement si la table est<br />
plus grande qu'une certaine taille, et si la requ&ecirc;te<br />
s&eacute;lectionne seulement un faible pourcentage des lignes de la<br />
table. Ceci est d&ucirc; au fait qu'un acc&egrave;s disque<br />
al&eacute;atoire caus&eacute; par un parcours d'index peut<br />
&ecirc;tre plus lent qu'une simple lecture de la table, ou parcours<br />
s&eacute;quentiel</p>
<p>Pour d&eacute;terminer si un index devrait &ecirc;tre<br />
utilis&eacute;, PostgreSQL a besoin des statistiques de la table.<br />
Ces statistiques sont collect&eacute;es en lan&ccedil;ant<br />
<small>VACUUM ANALYZE</small> ou simplement <small>ANALYZE</small>.<br />
Avec les statistiques, l'optimiseur sait combien de lignes se<br />
trouvent dans la table et peut mieux d&eacute;terminer s'il faut<br />
utiliser l'index. Les statistiques sont &eacute;galement utiles<br />
pour d&eacute;terminer l'ordre optimal des op&eacute;rations de<br />
jointure. La collecte des statistiques devrait &ecirc;tre<br />
effectu&eacute;e r&eacute;guli&egrave;rement lorsque le contenu de<br />
la table change.</p>
<p>Les index ne sont normalement pas utilis&eacute;s pour les<br />
clauses <small>ORDER BY</small> ou pour les jointures. Un parcours<br />
s&eacute;quentiel suivi d'un tri explicite est habituellement plus<br />
rapide qu'un parcours d'index pour une table importante. Toutefois,<br />
<small>LIMIT</small> combin&eacute; avec <small>ORDER BY</small><br />
utilisera souvent un index parce que seulement une petite partie de<br />
la table est renvoy&eacute;e. En fait, bien que MAX() et MIN()<br />
n'utilisent pas les index, il est possible de retrouver ces valeurs<br />
en utilisant un index avec ORDER BY et LIMIT :</p>
<pre>
<p>    SELECT colonne<br />
    FROM table<br />
    ORDER BY colonne [ DESC ]<br />
    LIMIT 1;
</pre>
<p>Si vous pensez que l'optimiseur choisit par erreur un parcours<br />
sequentiel, utilisez <code>SET enable_seqscan TO 'off'</code> et<br />
lancez des tests pour voir si le parcours d'index est effectivement<br />
plus rapide.</p>
<p>Lorsque vous utilisez des caract&egrave;res joker tels que<br />
<small>LIKE</small> ou <i>~</i>, les index peuvent seulement<br />
&ecirc;tre utilis&eacute;s dans certaines circonstances :</p>
<ul>
<li>Le d&eacute;but de la cha&icirc;ne de recherche doit &ecirc;tre<br />
ancr&eacute; au d&eacute;part de la cha&icirc;ne,<br />
c'est-&agrave;-dire</p>
<ul>
<li>Les mod&egrave;les pour <small>LIKE</small> ne doivent pas<br />
commencer par <i>%</i>.</li>
<li>Les mod&egrave;les d'expression r&eacute;guli&egrave;re pour<br />
<i>~</i> doivent commencer par <i>^</i>.</li>
</ul>
</li>
<li>La cha&icirc;ne de recherche ne peut pas commencer par une<br />
classe de caract&egrave;res, c'est-&agrave;-dire [a-e].</li>
<li>Les recherches sans casse comme <small>ILIKE</small> et<br />
<i>~*</i> n'utilisent pas les index. Utilisez plut&ocirc;t les<br />
index fonctionnels, d&eacute;crit dans la section <a href="_br_/_.html#4.12">4.12</a>.</li>
<li>La locale <i>C</i> par d&eacute;faut doit &ecirc;tre<br />
utilis&eacute;e lors de <i>initdb</i>.</li>
</ul>
<h4><a name="4.9">4.9</a>) Comment puis-je savoir si l'optimiseur<br />
&eacute;value mes requ&ecirc;tes ?</h4>
<p>Voir la page <small>EXPLAIN</small> du manuel.</p>
<h4><a name="4.10">4.10</a>) Qu'est-ce qu'un index R-tree ?</h4>
<p>Un index R-tree est utilis&eacute; pour l'indexation des<br />
donn&eacute;es spatiales. Un index de hachage ne permet pas les<br />
recherches par plage. Un index B-tree peut seulement faire des<br />
recherches sur une dimension. Les index R-tree peuvent traiter des<br />
donn&eacute;es multi-dimensionnelles. Par exemple, si un index<br />
R-tree peut &ecirc;tre construit sur un attribut de type</p>
<p><i>point</i>, le syst&egrave;me peut plus efficacement g&eacute;rer<br />
les requ&ecirc;tes du type "S&eacute;lection de tous les points<br />
d'un rectangle".</p>
<p>L'article de r&eacute;f&eacute;rence qui d&eacute;crit le<br />
syst&egrave;me R-tree original est :</p>
<p>Guttman, A. "R-trees: A Dynamic Index Structure for Spatial<br />
Searching." Proceedings of the 1984 ACM SIGMOD Int'l Conf on Mgmt<br />
of Data, 45-57.</p>
<p>Vous pouvez &eacute;galement trouver ce papier dans le livre de<br />
Stonebraker "Readings in Database Systems".</p>
<p>Les index R-tree int&eacute;gr&eacute;s peuvent prendre en<br />
charge les polyg&ocirc;nes et les bo&icirc;tes. En th&eacute;orie,<br />
les R-trees peuvent &ecirc;tre &eacute;tendus &agrave; un plus<br />
grand nombre de dimensions. En pratique, l'extension des R-trees<br />
requiert pas mal de travail et nous n'avons pour le moment aucune<br />
documentation sur la fa&ccedil;on de proc&eacute;der.</p>
<h4><a name="4.11">4.11</a>) Qu'est-ce que l'optimiseur<br />
g&eacute;n&eacute;tique de requ&ecirc;tes ?</h4>
<p>Le module <small>GEQO</small> (acronyme de <i>GEnetic Query<br />
Optimizer</i>) acc&eacute;l&egrave;re l'optimisation des<br />
requ&ecirc;tes lors de jointures de nombreuses tables par un<br />
algorithme g&eacute;n&eacute;tique (GA). Il permet la gestion des<br />
grosses requ&ecirc;tes de jointures en utilisant une recherche non<br />
exhaustive.</p>
<h4><a name="4.12">4.12</a>) Comment puis-je r&eacute;aliser des<br />
recherches sur des expressions rationnelles ainsi que des<br />
recherches non sensibles &agrave; la casse ? Comment puis-je<br />
utiliser un index lors de recherches non sensibles &agrave; la<br />
casse ?</h4>
<p>L'op&eacute;rateur <i>~</i> r&eacute;alise des recherches<br />
d'expressions rationnelles et <i>~*</i> le fait sans tenir compte<br />
de la casse. La variante de <small>LIKE</small> non sensible<br />
&agrave; la casse est <small>ILIKE</small>.</p>
<p>Des comparaisons d'&eacute;galit&eacute; non sensibles &agrave;<br />
la casse sont habituellement exprim&eacute;es de cette fa&ccedil;on<br />
:</p>
<pre>
    SELECT *<br />
    FROM table<br />
    WHERE lower(colonne) = 'abc';
</pre>
<p>Ceci n'utilisera pas un index standard. N&eacute;anmoins, si<br />
vous cr&eacute;ez un index fonctionnel, celui-ci sera<br />
utilis&eacute; :</p>
<pre>
    CREATE INDEX tableindex ON table (lower(colonne));
</pre>
<h4><a name="4.13">4.13</a>) Comment puis-je d&eacute;tecter si un<br />
champ est <small>NULL</small> dans une requ&ecirc;te ?</h4>
<p>Il vous suffit de tester la colonne avec <small>IS NULL</small><br />
ou <small>IS NOT NULL</small>.</p>
<h4><a name="4.14">4.14</a>) Quelle sont les diff&eacute;rences<br />
entre les nombreux types de caract&egrave;res ?</h4>
<pre>
Type            Nom interne     Notes<br />
--------------------------------------------------<br />
VARCHAR(n)      varchar         n sp&eacute;cifie la taille maximum, sans remplissage<br />
CHAR(n)         bpchar          des espaces sont ajout&eacute;s pour obtenir la<br />
                                longueur fixe sp&eacute;cifi&eacute;e<br />
TEXT            text            pas de limite sup&eacute;rieure pour la taille<br />
BYTEA           bytea           tableau d'octets (accepte les octets nuls)<br />
"char"          char            un caract&egrave;re
</pre>
<p>Vous verrez le nom interne en examinant les catalogues<br />
syst&egrave;me et dans quelques messages d'erreur.</p>
<p>Les quatres premiers types du dessus sont des types "varlena"<br />
(c'est-&agrave;-dire que les quatre premiers octets correspondent<br />
&agrave; la taille, suivi des donn&eacute;es). Donc, l'espace<br />
r&eacute;ellement utilis&eacute; est l&eacute;g&egrave;rement plus<br />
grand que la taille d&eacute;clar&eacute;e. N&eacute;anmoins, ces<br />
types de donn&eacute;es sont aussi sujet &agrave; la compression ou<br />
&agrave; un enregistrement en dehors de la table avec</p>
<p><small>TOAST</small>, donc l'espace occup&eacute; sur disque<br />
pourrait aussi &ecirc;tre moindre que ce qu'on pourrait<br />
attendre.</p>
<p><small>VARCHAR(n)</small> est bien mieux pour enregistrer des<br />
cha&icirc;nes de longueurs variables tout en limitant la taille de<br />
cette cha&icirc;ne. <small>TEXT</small> est utile pour les<br />
cha&icirc;nes de longueur illimit&eacute;e, avec malgr&eacute; tout<br />
un maximum de 1 Go.</p>
<p><small>CHAR(n)</small> est int&eacute;ressant pour stocker des<br />
cha&icirc;nes de taille identique. <small>CHAR(n)</small><br />
compl&egrave;te avec des espaces pour arriver &agrave; la taille<br />
sp&eacute;cifi&eacute;e alors que <small>VARCHAR(n)</small><br />
n'enregistre que les caract&egrave;res donn&eacute;s.</p>
<p><small>BYTEA</small> sert &agrave; stocker des donn&eacute;es<br />
binaires, particuli&egrave;rement les donn&eacute;es incluant des<br />
octets <small>NULL</small>. Tous les types d&eacute;crits ici ont<br />
des performances similaires.</p>
<h4><a name="4.15.1">4.15.1</a>) Comment puis-je cr&eacute;er un<br />
champ s&eacute;rie, c'est-&agrave;-dire s'incr&eacute;mentant<br />
automatiquement ?</h4>
<p>PostgreSQL supporte un type de donn&eacute;es<br />
<small>SERIAL</small>. Il cr&eacute;e automatiquement une<br />
s&eacute;quence. Par exemple, ceci :</p>
<pre>
    CREATE TABLE personne (<br />
        id  SERIAL,<br />
        nom TEXT<br />
    );
</pre>
<p>est automatiquement traduit en ceci :</p>
<pre>
    CREATE SEQUENCE personne_id_seq;<br />
    CREATE TABLE personne (<br />
        id  INT4 NOT NULL DEFAULT nextval('personne_id_seq'),<br />
        nom TEXT<br />
    );
</pre>
<p>Voir la page man de <i>create_sequence</i> pour plus d'informations<br />
sur les s&eacute;quences. Vous pouvez aussi utiliser le champ</p>
<p><i>OID</i> de chaque ligne comme valeur unique. N&eacute;anmoins,<br />
si vous avez besoin de sauvegarder puis recharger la base de<br />
donn&eacute;es, vous devrez utiliser l'option <i>-o</i> ou l'option<br />
<small>COPY WITH OIDS</small> de <i>pg_dump</i> pour conserver les<br />
<small>OID</small>s.</p>
<h4><a name="4.15.2">4.15.2</a>) Comment puis-je obtenir la valeur<br />
d'un <small>SERIAL</small> suite &agrave; une insertion ?</h4>
<p>Une approche pour r&eacute;cup&eacute;rer la prochaine valeur<br />
<small>SERIAL</small> &agrave; partir de l'objet s&eacute;quence<br />
est d'utiliser la fonction <i>nextval()</i> <i>avant</i><br />
l'insertion et de l'ins&eacute;rer ensuite explicitement. En<br />
utilisant la table d'exemple de la section <a href="_br_/_.html#4.15.1">4.15.1</a>, un exemple dans un pseudo-langage<br />
ressemblerait &agrave; ceci :</p>
<pre>
    nouvelle_id = execute("SELECT nextval('personne_id_seq')");<br />
    execute("INSERT INTO personne (id, nom) VALUES (nouvelle_id, 'Blaise Pascal')");
</pre>
<p>Vous pourriez ensuite utiliser la nouvelle valeur stock&eacute;e<br />
dans <code>nouvelle_id</code> avec d'autres requ&ecirc;tes<br />
(c'est-&agrave;-dire en tant que cl&eacute; &eacute;trang&egrave;re<br />
de la table <code>personne</code>). Notez que le nom de la<br />
<small>SEQUENCE</small> automatiquement cr&eacute;&eacute;e sera</p>
<p>&lt;<i>table</i>&gt;_&lt;<i>colonneserial</i>&gt;_<i>seq</i>,<br />
o&ugrave; <i>table</i> et <i>colonneserial</i> sont les noms<br />
respectifs de votre table et de votre colonne<br />
<small>SERIAL</small>.
<p>Autrement, vous pouvez r&eacute;cup&eacute;rer la valeur</p>
<p><small>SERIAL</small> affect&eacute;e avec la fonction<br />
<i>currval()</i> <i>apr&egrave;s</i> qu'elle ait &eacute;t&eacute;<br />
ins&eacute;r&eacute;e par d&eacute;faut, c'est-&agrave;-dire,</p>
<pre>
    execute("INSERT INTO personne (nom) VALUES ('Blaise Pascal')");<br />
    nouvelle_id = execute("SELECT currval('personne_id_seq')");
</pre>
<p>Enfin, vous pouvez utiliser l'<a href="_br_/_.html#4.16"><small>OID</small></a> renvoy&eacute; par l'instruction<br />
<small>INSERT</small> pour r&eacute;cup&eacute;rer la valeur par<br />
d&eacute;faut bien que cela soit l'appoche la moins portable et la<br />
valeur de l'OID se r&eacute;initialisera aux environs de quatre<br />
milliards. En Perl, avec DBI et le module DBD:Pg d'Edmund Mergl,<br />
l'ancienne valeur est disponible via</p>
<p><i>$sth-&gt;{pg_oid_status}</i> apr&egrave;s un<br />
<i>$sth-&gt;execute()</i>.</p>
<h4><a name="4.15.3">4.15.3</a>) Est-ce que <i>currval()</i> et<br />
<i>nextval()</i> n'am&egrave;nent pas des probl&egrave;mes lorsque<br />
plusieurs utilisateurs les lancent en m&ecirc;me temps ?</h4>
<p>Non. <i>currval()</i> renvoie la valeur actuelle affect&eacute;e<br />
par votre processus, et non pas par tous les utilisateurs.</p>
<h4><a name="4.15.4">4.15.4</a>) Pourquoi mes num&eacute;ros de<br />
s&eacute;quences ne sont pas r&eacute;-utilis&eacute;s lors d'une<br />
annulation de transaction ? Pourquoi existe-t'il des trous dans la<br />
num&eacute;rotation de ma colonne s&eacute;quentielle (SERIAL)<br />
?</h4>
<p>Pour am&eacute;liorer les acc&egrave;s concurrents, les valeurs<br />
de s&eacute;quences sont donn&eacute;es aux transactions qui en ont<br />
besoin et ne sont pas bloqu&eacute;es jusqu'&agrave; la fin de la<br />
transaction. Ceci cr&eacute;e des trous dans le num&eacute;rotage<br />
pour les transactions annul&eacute;es.</p>
<h4><a name="4.16">4.16</a>) Qu'est-ce qu'un <small>OID</small> ?<br />
Qu'est-ce qu'un <small>TID</small> ?</h4>
<p>Les <small>OID</small> sont la r&eacute;ponse de PostgreSQL aux<br />
identifiants de lignes uniques. Chaque ligne cr&eacute;&eacute;e<br />
dans PostgreSQL obtient un <small>OID</small> unique. Tous les</p>
<p><small>OID</small> g&eacute;n&eacute;r&eacute;s pendant<br />
<i>initdb</i> sont inf&eacute;rieurs &agrave; 16384 (voir<br />
<i>include/access/transam.h</i>). Tous les <small>OID</small><br />
cr&eacute;&eacute;s par un utilisateur sont sup&eacute;rieurs ou</p>
<p>&eacute;gaux &agrave; ceci. Par d&eacute;faut, tous ces<br />
<small>OID</small> sont uniques non seulement dans une table ou une<br />
base mais unique &agrave; l'int&eacute;rieur d'une installation<br />
PostgreSQL enti&egrave;re.</p>
<p>PostgreSQL utilise les <small>OID</small> dans ses tables<br />
syst&egrave;me interne pour lier les lignes entre tables. Ces</p>
<p><small>OID</small> peuvent &ecirc;tre utilis&eacute;s pour<br />
identifier des lignes utilisateurs sp&eacute;cifiques et<br />
utilis&eacute;s dans des jointures. Il est recommand&eacute; que<br />
vous utilisiez le type de colonne <small>OID</small> pour stocker<br />
des valeurs <small>OID</small>. Vous pouvez cr&eacute;er un index<br />
sur le champ <small>OID</small> pour un acc&egrave;s plus<br />
rapide.</p>
<p>Les <small>OID</small> sont attribu&eacute;s pour toute ligne<br />
d'un endroit central qui est utilis&eacute; par toutes les bases de<br />
donn&eacute;es. Si vous voulez changer l'<small>OID</small> en<br />
quelque chose d'autre ou si vous voulez faire une copie de la table<br />
avec les <small>OID</small> originaux, il n'y a pas de raisons pour<br />
ne pas le faire :</p>
<pre>
    CREATE TABLE nouvelle_table (macolonne int);<br />
    SELECT oid AS ancienne_oid, macolonne INTO table_temporaire FROM ancienne_table;<br />
    COPY table_temporaire FROM '/tmp/tablepg';<br />
    COPY nouvelle_table WITH OIDS FROM '/tmp/tablepg';<br />
    DROP TABLE table_temporaire;</p>
</pre>
<p>Les <small>OID</small> sont stock&eacute;s en tant qu'entiers de<br />
quatre octets et d&eacute;borderont &agrave; quatre milliards.<br />
Personne n'a jamais rapport&eacute; un tel cas et nous avons<br />
pr&eacute;vu de retirer la limite avant que cela ne se<br />
produise.</p>
<p>Les <small>TID</small>s sont utilis&eacute;s pour identifier des<br />
lignes physiques sp&eacute;cifiques avec des valeurs de bloc et<br />
d&eacute;calage. Les <small>TID</small> changent apr&egrave;s que<br />
les lignes aient &eacute;t&eacute; modifi&eacute;s ou<br />
recharg&eacute;s. Ils sont utilis&eacute;s par des entr&eacute;es<br />
d'index pour pointer vers des lignes physiques.</p>
<h4><a name="4.17">4.17</a>) A quoi correspond certains termes<br />
utilis&eacute;s avec PostgreSQL ?</h4>
<p>Une partie du code source et de l'ancienne documentation<br />
utilisent des termes dont l'usage est plus commun. Voici quelques<br />
exemples :</p>
<ul>
<li>table, relation, classe</li>
<li>ligne (row), enregistrement (record), tuple</li>
<li>colonne (column), champ (field), attribut</li>
<li>r&eacute;cup&egrave;re, s&eacute;lectionne (select)</li>
<li>remplace (replace), met &agrave; jour (update)</li>
<li>ajoute (append), ins&egrave;re (insert)</li>
<li><small>OID</small>, valeur s&eacute;quentielle (serial<br />
value)</li>
<li>portal, curseur</li>
<li>range variable, table name, table alias</li>
</ul>
<p>Une liste des termes g&eacute;n&eacute;raux pour le domaine des<br />
bases de donn&eacute;es est disponible sur : <a href="_br_/_http__/hea-www.harvard.edu/MST/simul/software/docs/pkgs/pgsql/glossary/glossary.html"></p>
<p>http://hea-www.harvard.edu/MST/simul/software/docs/pkgs/pgsql/glossary/glossary.html</a></p>
<h4><a name="4.18">4.18</a>) Pourquoi ai-je l'erreur <i>ERROR:<br />
Memory exhausted in AllocSetAlloc()</i> ?</h4>
<p>Vous manquez probablement de m&eacute;moire virtuelle sur votre<br />
syst&egrave;me ou votre noyau a une limite assez basse pour<br />
certaines ressources. Essayez ceci avant de lancer<br />
<i>postmaster</i> :</p>
<pre>
    ulimit -d 262144<br />
    limit datasize 256m</p>
</pre>
<p>Suivant votre shell, seul un d'eux pourrait r&eacute;ussir mais<br />
cela configurera d'une fa&ccedil;on plus importante la taille du<br />
segment de donn&eacute;es de votre processus. Cette commande<br />
s'applique au processus actuel et &agrave; tous les processus<br />
lanc&eacute; par celui-ci. Si vous avez des probl&egrave;mes avec<br />
le client <small>SQL</small> parce que le processus serveur renvoie<br />
trop de donn&eacute;es, essayez &ccedil;a avant de lancer le<br />
client.</p>
<h4><a name="4.19">4.19</a>) Comment puis-je conna&icirc;tre la<br />
version de PostgreSQL que j'utilise ?</h4>
<p>A partir de <i>psql</i>, tapez <code>SELECT<br />
version();</code></p>
<h4><a name="4.20">4.20</a>) Pourquoi ai-je <i>invalid large obj<br />
descriptor</i> lors d'op&eacute;rations sur des gros objects ?</h4>
<p>Vous avez besoin de placer <code>BEGIN WORK</code> et<br />
<code>COMMIT</code> autour de chaque utilisateur de gros objets,<br />
c'est-&agrave;-dire pour entourer <code>lo_open</code> ...</p>
<p><code>lo_close.</code></p>
<p>Actuellement, PostgreSQL force cette r&egrave;gle en fermant les<br />
gros objets lors de la transaction. Donc, le premier essai<br />
d'op&eacute;rations sur ces objets, fonctionnant habituellement (au<br />
moins la plupart du temps) aura un <i>invalid large obj<br />
descriptor</i>. Donc le code, auparavant fonctionnel (au moins la<br />
plupart du temps), g&eacute;n&egrave;rera maintenant un message<br />
d'erreur si vous n'utilisez pas de transaction.</p>
<p>Si vous utilisez une interface client interface comme<br />
<small>ODBC</small>, vous aurez peut-&ecirc;tre besoin de lancer<br />
<code>auto-commit off.</code></p>
<h4><a name="4.21">4.21</a>) Comment puis-je cr&eacute;er une<br />
colonne qui aura par d&eacute;faut l'heure actuelle comme valeur<br />
?</h4>
<p>Utilisez <i>CURRENT_TIMESTAMP</i>:</p>
<pre>
<code>CREATE TABLE test (x int, heuremodif timestamp DEFAULT CURRENT_TIMESTAMP );<br />
</code>
</pre>
<h4><a name="4.22">4.22</a>) Pourquoi mes sous-requ&ecirc;tes<br />
utilisant <code><small>IN</small></code> sont-elles si lentes<br />
?</h4>
<p>Dans les versions pr&eacute;c&eacute;dant la 7.4, les<br />
sous-requ&ecirc;tes ont &eacute;t&eacute; jointes avec des<br />
jointures externes en parcourant s&eacute;quentiellement le<br />
r&eacute;sultat de la sous-requ&ecirc;te pour chaque ligne de la<br />
requ&ecirc;te externe. Si la sous-requ&ecirc;te renvoit quelques<br />
lignes et que la requ&ecirc;te externe en renvoit plein,</p>
<p><code><small>IN</small></code> sera plus rapide. Pour<br />
acc&eacute;l&eacute;rer les autres requ&ecirc;tes, remplacez<br />
<code>IN</code> avec <code>EXISTS</code> :</p>
<pre>
    SELECT *<br />
    FROM table<br />
    WHERE colonne IN (SELECT souscolonne FROM soustable);
</pre>
<p>to:</p>
<pre>
    SELECT *<br />
    FROM table<br />
    WHERE EXISTS (SELECT souscolonne FROM soustable WHERE souscolonne = colonne);
</pre>
<p>Pour que ceci soit rapide, <code>souscolonne</code> doit &ecirc;tre<br />
une colonne index&eacute;e.
<p>A partir de la version 7.4, <code>IN</code> utilise actuellement<br />
les m&ecirc;mes techniques sophistiqu&eacute;es de jointures comme<br />
des requ&ecirc;tes normales et est pr&eacute;f&eacute;r&eacute;</p>
<p>&agrave; l'utilisation de <code>EXISTS</code>.</p>
<h4><a name="4.23">4.23</a>) Comment puis-je r&eacute;aliser une<br />
jointure externe ?</h4>
<p>PostgreSQL supporte les jointures externes en utilisant la<br />
syntaxe SQL standard. Voici deux exemples :</p>
<pre>
    SELECT *<br />
    FROM t1 LEFT OUTER JOIN t2 ON (t1.col = t2.col);
</pre>
<p>or</p>
<pre>
<p>    SELECT *<br />
    FROM t1 LEFT OUTER JOIN t2 USING (col);
</pre>
<p>Ces requ&ecirc;tes identiques joignent t1.col &agrave; t2.col et<br />
renvoient toute colonne non jointe de t1 (celles sans<br />
correspondance dans t2). Une jointure droite (<small>RIGHT<br />
join</small>) ajoutera les lignes non jointes de t2. Une jointure<br />
compl&egrave;te (<small>FULL join</small>) renverra les lignes<br />
correspondantes ainsi que les lignes non jointes de t1 et t2. Le<br />
mot cl&eacute; <small>OUTER</small> est optionnelle et<br />
assum&eacute; dans le cas de jointure <small>LEFT</small>,</p>
<p><small>RIGHT</small> et <small>FULL</small>. Les jointures<br />
ordinaires sont appel&eacute;es des jointures<br />
<small>INNER</small>.</p>
<p>Lors des pr&eacute;c&eacute;dentes versions, les jointures<br />
externes peuvent &ecirc;tre simul&eacute;es en utilisant<br />
<small>UNION</small> et <small>NOT IN</small>. Par exemple, lors<br />
d'une jointure de <i>tab1</i> et <i>tab2</i>, la requ&ecirc;te<br />
suivante r&eacute;alise une jointure externe, <i>outer</i>, des<br />
deux tables :</p>
<p></p>
<pre>
    SELECT tab1.col1, tab2.col2<br />
    FROM tab1, tab2<br />
    WHERE tab1.col1 = tab2.col1<br />
    UNION ALL<br />
    SELECT tab1.col1, NULL<br />
    FROM tab1<br />
    WHERE tab1.col1 NOT IN (SELECT tab2.col1 FROM tab2)<br />
    ORDER BY col1
</pre>
<h4><a name="4.24">4.24</a>) Comment puis-je lancer des<br />
requ&ecirc;tes utilisant plusieurs bases de donn&eacute;es ?</h4>
<p>Il n'existe pas de moyens de lancer des requ&ecirc;tes sur une<br />
autre base que la courante. Comme PostgreSQL charge des catalogues<br />
syst&egrave;mes sp&eacute;cifiques &agrave; la base de<br />
donn&eacute;es, sa r&eacute;action aux requ&ecirc;tes inter-base de<br />
donn&eacute;es est incertaine.</p>
<p><i>contrib/dblink</i> permet les requ&ecirc;tes entre bases de<br />
donn&eacute;es en utilisant des fonctions. Bien s&ucirc;r un client<br />
peut r&eacute;aliser des connexions simultan&eacute;es &agrave;<br />
plusieurs bases de donn&eacute;es et joindre les r&eacute;sultats<br />
du c&ocirc;t&eacute; client.</p>
<h4><a name="4.25">4.25</a>) Comment puis-je renvoyer plusieurs<br />
lignes ou colonnes &agrave; partir d'une fonction?</h4>
<p>A partir de la 7.3, vous pouvez facilement renvoyer plusieurs<br />
lignes ou colonnes &agrave; partir d'une fonction, <a href="_br_/_http__/techdocs.postgresql.org/guides/SetReturningFunctions.html">http://techdocs.postgresql.org/guides/SetReturningFunctions</a>.</p>
<h4><a name="4.26">4.26</a>) Pourquoi ne puis-je pas<br />
cr&eacute;er/supprimer des tables temporaires dans les fonctions<br />
PL/PgSQL de fa&ccedil;on stable ?</h4>
<p>PL/PgSQL cache le contenu des fonctions et un effet de bord<br />
malheureux est que si une fonction PL/PgSQL acc&egrave;de &agrave;<br />
une table temporaire, que cette table est ensuite supprim&eacute;e<br />
et recr&eacute;&eacute;e, et que la fonction est appel&eacute;e de<br />
nouveau, la fonction &eacute;chouera car le contenu de la fonction<br />
cach&eacute;e pointera toujours vers l'ancienne table temporaire.<br />
La solution revient &agrave; utiliser <small>EXECUTE</small> pour<br />
l'acc&egrave;s aux tables temporaires avec PL/PgSQL. Ceci obligera<br />
l'analyse de la requ&ecirc;te &agrave; chaque fois.</p>
<h4><a name="4.27">4.27</a>) Quelles options de r&eacute;plication<br />
sont disponibles ?</h4>
<p>Il existe plusieurs solutions de r&eacute;plication<br />
ma&icirc;tre/esclave. Elles permettent uniquement au ma&icirc;tre<br />
de r&eacute;aliser des changements sur la base de donn&eacute;es<br />
alors que l'esclave peut seulement faire des lectures de base de<br />
donn&eacute;es. Le bas de la page <a href="_br_/_http__/gborg.PostgreSQL.org/genpage6e13.html?replication_research">http://gborg.PostgreSQL.org/genpage?replication_research</a><br />
les liste. Une solution de r&eacute;plication multi-ma&icirc;tre<br />
est en cours de d&eacute;veloppement sur <a href="_br_/_http__/gborg.PostgreSQL.org/project/pgreplication/projdisplay.html"></p>
<p>http://gborg.PostgreSQL.org/project/pgreplication/projdisplay.php</a>.</p>
<h4><a name="4.28">4.28</a>) Quelles options de cryptage sont<br />
disponibles ?</h4>
<ul>
<li><i>contrib/pgcrypto</i> contient de nombreuses fonctions de<br />
cryptage, &agrave; utiliser dans des requ&ecirc;tes<br />
<small>SQL</small>.</li>
<li>Pour crypter une transmission entre le client et le serveur, le<br />
serveur doit avoir positionn&eacute; l'option <i>ssl</i> &agrave;</p>
<p><i>true</i> dans <i>postgresql.conf,</i> et un enregistrement<br />
applicable <i>host</i> ou <i>hostssl</i> doit exister dans<br />
<i>pg_hba.conf</i>, et le <i>sslmode</i> du client ne doit pas</p>
<p>&ecirc;tre <i>d&eacute;sactiv&eacute;e</i>. Notez qu'il est aussi<br />
possible d'utiliser un transport crypt&eacute; d'une<br />
troisi&egrave;me partie, tel que stunnel ou ssh, plut&ocirc;t que<br />
les connexions SSL natives de PostgreSQL.</li>
<li>Les mots de passe des utilisateurs sont automatiquement<br />
crypt&eacute;s depuis la version 7.3. Pour les versions<br />
pr&eacute;c&eacute;dentes, vous devez activer l'option<br />
<i>PASSWORD_ENCRYPTION</i> dans <i>postgresql.conf</i>.</li>
<li>Le serveur peut fonctionner avec un syst&egrave;me de fichiers<br />
crypt&eacute;s.</li>
</ul>
<p><hr /></p>
<h3 align="center">Etendre PostgreSQL</h3>
<h4><a name="5.1">5.1</a>) J'ai &eacute;crit une fonction<br />
utilisateur. Lorsque je l'ex&eacute;cute avec <i>psql</i>, pourquoi<br />
cela finit-il avec un <i>dump core</i> ?</h4>
<p>Il peut y avoir plusieurs raisons. Essayez tout d'abord votre<br />
fonction utilisateur dans un programme de test.</p>
<h4><a name="5.2">5.2</a>) Comment puis-je ajouter de bons nouveaux<br />
types ou fonctions &agrave; PostgreSQL ?</h4>
<p>Envoyez vos extensions &agrave; la liste de diffusion<br />
<i>pgsql-hackers</i>, elles atterriront &eacute;ventuellement dans<br />
le sous-r&eacute;pertoire <i>contrib/</i>.</p>
<h4><a name="5.3">5.3</a>) Comment faire pour &eacute;crire une<br />
fonction C qui renvoie un tuple ?</h4>
<p>Dans les versions de PostgreSQL &agrave; partir de 7.3, les<br />
fonctions qui renvoient une table sont totalement support&eacute;es<br />
en C, PL/PgSQL, et SQL. Voir le Guide du Programmeur pour plus<br />
d'information. Un exemple de fonction renvoyant une table<br />
d&eacute;finie en C se trouve &agrave;<br />
<i>contrib/tablefunc</i>.</p>
<h4><a name="5.4">5.4</a>) J'ai modifi&eacute; un fichier source.<br />
Pourquoi ma recompilation ne voit-elle pas les modifications ?</h4>
<p>Les <i>Makefiles</i> n'ont pas les d&eacute;pendances<br />
ad&eacute;quates pour les fichiers d'en-t&ecirc;te. Il vous faut<br />
faire <i>make clean</i> puis un autre <i>make</i>. Si vous utilisez<br />
<small>GCC</small>, vous pouvez utiliser l'option<br />
<i>--enable-depend</i> de <i>configure</i> pour que le compilateur<br />
calcule les d&eacute;pendances automatiquement.</p>

		     </div></div>
<!--</div>
</div>
</div>
</div> -->
<a id="comment"></a>
<form method="post" action="http://drupal.postgresql.fr/?q=comment"><div>
<div class="pgSideNav">    <h2>Options d'affichage des commentaires</h2>    
		    <div>
			<div class="form-item">
 <select name="mode"> <option value="1">A plat - repli√©</option>
 <option value="2">A plat - d√©pli√©</option>
 <option value="3">Par discussions - repli√©</option>
 <option value="4" selected="selected">Par discussions - d√©pli√©</option>
</select>
<select name="order"> <option value="1">Date - r√©cents en premier</option>
 <option value="2" selected="selected">Date - anciens en premier</option>
</select>
<select name="comments_per_page"> <option value="10">10 commentaires par page</option> <option value="30">30 commentaires par page</option> <option value="50" selected="selected">50 commentaires par page</option> <option value="70">70 commentaires par page</option> <option value="90">90 commentaires par page</option></select>
<input type="hidden" name="threshold" value="0" />
 <input type="submit" class="form-submit" name="op" value="Sauvegarder les param√®tres"  />

 <div class="description">S√©lectionnez la m√©thode d'affichage des commentaires que vous pr√©f√©rez, puis cliquez sur "Sauvegarder les param√®tres" pour activer vos changements.</div>
</div>

		    </div></div><input type="hidden" name="edit[nid]" value="52" />
</div></form><form method="post" action="http://drupal.postgresql.fr/?q=comment"><div>
<input type="hidden" name="edit[nid]" value="52" />
<a id="comment-13"></a>
<div class="pgContentWrap"><h1 id="txtFrontFeatureHeading">Cool!</h1>
		<p>
		    <b><a href="indexec55.html?q=user/2" title="Voir le profil utilisateur.">Jean-Paul Argudo</a></b>/ = 23 Juillet, 2004 - 08:58
		</p>
		<p>
		    <p>Super Guillaume!</p>
<p>J'essaie de me d√©brouiller pour faire une entr√©e permanente vers cette FAQ dans Drupal</p>
<p>Merci !!</p>
<p>--<br />
Jean-Paul </p>
<br /><!--hr /--><div class="contentsLink">[ Vous devez <a href="index7992.html?q=user/login">vous connecter</a> pour poster des commentaires ]</div>
		</p></div></div></form>
<!-- end content -->
              </td>

    </tr>
    <tr><td colspan="2">

		<div class="pgTopNav">
		   <div class="pgTopNavLeft"> 
		     <img src="layout/images/nav_lft.png" width="7" height="23" alt="" />
		   </div>
		   <div class="pgTopNavRight">
		    <img src="layout/images/nav_rgt.png" width="7" height="23" alt="" />
		  </div>
		  <!--<ul class="pgTopNavList">-->
		  <ul class="pgTopNavList">
		   <li><a href="index03d2.html?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="indexf6e5.html?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="index71c4.html?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>

		   <li> <a href="indexf6fe.html?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="index79b7.html?q=forum">forums</a> </li>
		   <li> <a href="index729f.html?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="index4404.html?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>

		  </ul>

<!--
		   <li><a href="?q=" title="Retourner √† la page principale.">accueil</a> </li>
		   <li> <a href="?q=archive" title="Lire le contenu plus ancien dans notre archive.">archives</a> </li>
		   <li> <a href="?q=blog" title="Lire les blogues les plus r√©cents.">blogues</a> </li>
		   <li> <a href="?q=book" title="Lire et contribuer aux livres collaboratifs.">livres</a> </li>
		   <li> <a href="?q=forum">forums</a> </li>
		   <li> <a href="?q=poll" title="Voir la liste des sondages de ce site.">sondages</a> </li>
		   <li> <a href="?q=search" title="Chercher pour du contenu plus vieux.">recherche</a></li><li><a href="http://docs.postgresqlfr.org/" target="_blank">documentation </a></li>
-->
		  </ul>
	        </div>
    </td></tr>
   </table>
   <p style="text-align: center;">&copy;&nbsp;PostgreSQLFr, tous droits r√©serv√©s.<br>
Site d√©clar√© √† la CNIL sous le num√©ro 1074678, conform√©ment √† la Loi en vigueur.
</p>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3921927-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<p></p>
   
</body>

<!-- Mirrored from drupal.postgresql.fr/?q=node/52 by HTTrack Website Copier/3.x [XR&CO'2006], Sun, 12 Oct 2008 16:26:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>